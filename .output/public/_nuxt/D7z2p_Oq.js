import{e as S,M as I,c as _,o as l,a as e,b as n,h as T,F,r as H,w,C as V,D as b,t as r,n as O,a5 as W,g as o,S as B,_ as C,i as k,m as j,s as U,d as f,E as G,G as J,Y as P,a6 as Q,j as Y,J as q}from"./CPVxZRO5.js";import{_ as z}from"./CXpDyb_a.js";const K={class:"admin-sidebar"},X={class:"sidebar-header"},Z={class:"logo-container"},ee={class:"sidebar-nav"},se={class:"nav-list"},ne={class:"nav-text"},oe={class:"sidebar-footer"},ae={class:"user-info"},te={class:"user-avatar"},ie={class:"user-details"},ce={class:"user-name"},de={class:"user-role"},le=S({__name:"AdminSidebar",setup(L){const{user:i,logout:c}=I(),h=[{name:"لوحة المعلومات",path:"/admin",icon:"lucide:layout-dashboard",badge:!1},{name:"إدارة الباقات",path:"/admin/packages",icon:"lucide:package",badge:!1},{name:"إدارة الوجهات",path:"/admin/destinations",icon:"lucide:map-pin",badge:!1},{name:"الحجوزات",path:"/admin/bookings",icon:"lucide:calendar",badge:!0},{name:"رسائل التواصل",path:"/admin/messages",icon:"lucide:message-circle",badge:!0},{name:"الإشعارات",path:"/admin/notifications",icon:"lucide:bell",badge:!0},{name:"إدارة المستخدمين",path:"/admin/users",icon:"lucide:users",badge:!1},{name:"التقارير والإحصائيات",path:"/admin/reports",icon:"lucide:bar-chart-3",badge:!1},{name:"إدارة SEO",path:"/admin/seo",icon:"lucide:search",badge:!1},{name:"الإعدادات",path:"/admin/settings",icon:"lucide:settings",badge:!1}],p=async()=>{try{await c(),await B("/admin/login")}catch(a){console.error("Logout error:",a)}};return(a,u)=>{var $,y;const d=T,g=z;return l(),_("div",K,[e("div",X,[e("div",Z,[n(d,{name:"lucide:compass",class:"logo-icon"}),u[0]||(u[0]=e("div",{class:"logo-text"},[e("h2",{class:"logo-title"},"Wonder Land"),e("p",{class:"logo-subtitle"},"لوحة التحكم")],-1))])]),e("nav",ee,[e("ul",se,[(l(),_(F,null,H(h,m=>e("li",{key:m.name,class:"nav-item"},[n(g,{to:m.path,class:O(["nav-link group",{active:(a._.provides[W]||a.$route).path===m.path}])},{default:w(()=>[n(d,{name:m.icon,class:"nav-icon"},null,8,["name"]),e("span",ne,r(m.name),1),m.badge?(l(),V(d,{key:0,name:"lucide:circle",class:"nav-badge"})):b("",!0)]),_:2},1032,["to","class"])])),64))])]),e("div",oe,[e("div",ae,[e("div",te,[n(d,{name:"lucide:user",class:"avatar-icon"})]),e("div",ie,[e("p",ce,r((($=o(i))==null?void 0:$.name)||"مدير النظام"),1),e("p",de,r(((y=o(i))==null?void 0:y.role)==="super_admin"?"مدير عام":"مدير"),1)])]),e("button",{onClick:p,class:"logout-btn"},[n(d,{name:"lucide:log-out",class:"logout-icon"}),u[1]||(u[1]=e("span",null,"تسجيل الخروج",-1))])])])}}}),re=C(le,[["__scopeId","data-v-99bba577"]]),ue={class:"admin-header"},me={class:"header-left"},_e={class:"breadcrumb"},pe={class:"breadcrumb-list"},be={class:"breadcrumb-item"},he={key:0,class:"breadcrumb-item"},ge={class:"breadcrumb-current"},ve={class:"header-right"},fe={class:"search-container"},we={class:"notification-container"},ke={key:0,class:"notification-badge"},$e={class:"user-menu-container"},ye={class:"user-avatar"},xe={class:"user-info"},Se={class:"user-name"},Ce={class:"user-email"},Le={key:0,class:"user-dropdown"},Ee={class:"dropdown-header"},Me={class:"dropdown-avatar"},Ne={class:"dropdown-user-info"},Ae={class:"dropdown-name"},Ie={class:"dropdown-email"},Te={class:"dropdown-menu"},Ve=S({__name:"AdminHeader",emits:["toggle-sidebar"],setup(L,{emit:i}){const{user:c,logout:h}=I(),p=k(""),a=k(!1),u=k(3),d=j(()=>{const s=Q().path;return s==="/admin"?null:s.includes("/packages")?"إدارة الباقات":s.includes("/destinations")?"إدارة الوجهات":s.includes("/bookings")?"الحجوزات":s.includes("/messages")?"رسائل التواصل":s.includes("/notifications")?"الإشعارات":s.includes("/users")?"إدارة المستخدمين":s.includes("/reports")?"التقارير والإحصائيات":s.includes("/seo")?"إدارة SEO":s.includes("/settings")?"الإعدادات":null}),g=()=>{D("toggle-sidebar")},$=()=>{console.log("Toggle notifications")},y=()=>{a.value=!a.value},m=async()=>{try{await h(),await B("/admin/login")}catch(v){console.error("Logout error:",v)}};U(()=>{document.addEventListener("click",v=>{var s;(s=v.target)!=null&&s.closest(".user-menu-container")||(a.value=!1)})});const D=i;return(v,s)=>{var E,M,N,A;const t=T,x=z;return l(),_("header",ue,[e("div",me,[e("button",{onClick:g,class:"mobile-menu-btn lg:hidden"},[n(t,{name:"lucide:menu",class:"w-6 h-6"})]),e("nav",_e,[e("ol",pe,[e("li",be,[n(x,{to:"/admin",class:"breadcrumb-link"},{default:w(()=>[n(t,{name:"lucide:home",class:"breadcrumb-icon"}),s[1]||(s[1]=f(" لوحة التحكم "))]),_:1})]),o(d)?(l(),_("li",he,[n(t,{name:"lucide:chevron-left",class:"breadcrumb-separator"}),e("span",ge,r(o(d)),1)])):b("",!0)])])]),e("div",ve,[e("div",fe,[n(t,{name:"lucide:search",class:"search-icon"}),G(e("input",{type:"text",placeholder:"البحث...",class:"search-input","onUpdate:modelValue":s[0]||(s[0]=R=>P(p)?p.value=R:null)},null,512),[[J,o(p)]])]),e("div",we,[e("button",{class:"notification-btn",onClick:$},[n(t,{name:"lucide:bell",class:"notification-icon"}),o(u)>0?(l(),_("span",ke,r(o(u)),1)):b("",!0)])]),e("div",$e,[e("button",{onClick:y,class:"user-menu-btn"},[e("div",ye,[n(t,{name:"lucide:user",class:"avatar-icon"})]),e("div",xe,[e("p",Se,r(((E=o(c))==null?void 0:E.name)||"مدير النظام"),1),e("p",Ce,r(((M=o(c))==null?void 0:M.email)||"admin@wonderland.com"),1)]),n(t,{name:"lucide:chevron-down",class:"dropdown-icon"})]),o(a)?(l(),_("div",Le,[e("div",Ee,[e("div",Me,[n(t,{name:"lucide:user",class:"dropdown-avatar-icon"})]),e("div",Ne,[e("p",Ae,r(((N=o(c))==null?void 0:N.name)||"مدير النظام"),1),e("p",Ie,r(((A=o(c))==null?void 0:A.email)||"admin@wonderland.com"),1)])]),s[5]||(s[5]=e("div",{class:"dropdown-divider"},null,-1)),e("div",Te,[n(x,{to:"/admin/profile",class:"dropdown-item"},{default:w(()=>[n(t,{name:"lucide:user",class:"dropdown-item-icon"}),s[2]||(s[2]=f(" الملف الشخصي "))]),_:1}),n(x,{to:"/admin/settings",class:"dropdown-item"},{default:w(()=>[n(t,{name:"lucide:settings",class:"dropdown-item-icon"}),s[3]||(s[3]=f(" الإعدادات "))]),_:1}),e("button",{onClick:m,class:"dropdown-item logout-item"},[n(t,{name:"lucide:log-out",class:"dropdown-item-icon"}),s[4]||(s[4]=f(" تسجيل الخروج "))])])])):b("",!0)]),n(x,{to:"/",class:"visit-site-btn",target:"_blank"},{default:w(()=>[n(t,{name:"lucide:external-link",class:"visit-site-icon"}),s[6]||(s[6]=f(" زيارة الموقع "))]),_:1})])])}}}),Be=C(Ve,[["__scopeId","data-v-8e450def"]]),Ue={class:"admin-layout"},ze={class:"admin-main"},De={class:"admin-content"},Re=S({__name:"admin",setup(L){const i=k(!1),c=k(!1),h=()=>{i.value=!i.value},p=()=>{i.value=!1};return U(()=>{const a=()=>{c.value=window.innerWidth<1024};a(),window.addEventListener("resize",a),Y(()=>{window.removeEventListener("resize",a)})}),(a,u)=>{const d=re,g=Be;return l(),_("div",Ue,[!o(c)||o(i)?(l(),V(d,{key:0,class:"admin-sidebar"})):b("",!0),e("div",ze,[n(g,{onToggleSidebar:h}),e("main",De,[q(a.$slots,"default",{},void 0,!0)])]),o(c)&&o(i)?(l(),_("div",{key:1,class:"mobile-overlay",onClick:p})):b("",!0)])}}}),Oe=C(Re,[["__scopeId","data-v-70ebd8e4"]]);export{Oe as default};
