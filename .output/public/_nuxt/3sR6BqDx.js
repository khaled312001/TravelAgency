import{e as Q,i as _,m as g,s as W,u as X,c,o as u,a as s,D as B,b as d,d as D,h as Y,t as l,g as e,E as k,G as F,Y as y,X as N,O as j,F as E,r as U,n as Z,H as q,_ as J}from"./4AaFNmA5.js";const K={class:"bookings-page space-y-4"},ss={class:"page-header"},ts={class:"header-content"},es={class:"header-right"},as={class:"stats-grid"},ls={class:"stat-card"},os={class:"stat-icon"},is={class:"stat-content"},ns={class:"stat-value"},ds={class:"stat-card"},cs={class:"stat-icon"},us={class:"stat-content"},_s={class:"stat-value"},rs={class:"stat-card"},ps={class:"stat-icon"},vs={class:"stat-content"},ms={class:"stat-value"},hs={class:"stat-card"},bs={class:"stat-icon"},gs={class:"stat-content"},fs={class:"stat-value"},ks={class:"filters-section"},ys={class:"filters-container"},Cs={class:"search-box"},xs={class:"filter-controls"},ws=["value"],Bs={class:"bookings-table-container"},Ss={key:0,class:"loading-state"},Vs={key:1,class:"empty-state"},Ls={key:2,class:"bookings-table"},Ms={class:"table"},Ts={class:"table-body"},Ds={class:"table-cell"},Fs={class:"booking-id"},Ns={class:"table-cell"},Es={class:"customer-info"},Us={class:"customer-name"},Zs={class:"customer-email"},$s={class:"table-cell"},As={class:"package-info"},Is={class:"package-name"},Rs={class:"package-destination"},Hs={class:"table-cell"},zs={class:"travel-date"},Gs={class:"table-cell"},Os={class:"participants"},Ps={class:"table-cell"},Qs={class:"amount"},Ws={class:"table-cell"},Xs={class:"table-cell"},Ys={class:"action-buttons"},js=["onClick"],qs=["onClick"],Js=["onClick"],Ks={class:"modal-header"},st={class:"modal-title"},tt={key:0,class:"modal-body"},et={class:"booking-details-grid"},at={class:"detail-section"},lt={class:"detail-items"},ot={class:"detail-item"},it={class:"detail-value"},nt={class:"detail-item"},dt={class:"detail-value"},ct={class:"detail-item"},ut={class:"detail-value"},_t={class:"detail-section"},rt={class:"detail-items"},pt={class:"detail-item"},vt={class:"detail-value"},mt={class:"detail-item"},ht={class:"detail-value"},bt={class:"detail-item"},gt={class:"detail-value"},ft={class:"detail-item"},kt={class:"detail-value"},yt={class:"detail-section"},Ct={class:"detail-items"},xt={class:"detail-item"},wt={class:"detail-value"},Bt={class:"detail-item"},St={class:"detail-value"},Vt={class:"detail-item"},Lt={class:"detail-value"},Mt={class:"detail-section"},Tt={class:"detail-items"},Dt={class:"detail-item"},Ft={class:"detail-item"},Nt={class:"detail-value"},Et={class:"detail-item"},Ut={class:"detail-value"},Zt={key:0,class:"notes-section"},$t={class:"notes-text"},At={class:"modal-actions"},It=Q({__name:"index",setup(Rt){const p=_([]),$=_([]),C=_(!0),r=_(""),v=_(""),m=_(""),h=_(""),x=_(!1),i=_(null),S=g(()=>{let a=p.value;return r.value&&(a=a.filter(t=>t.customer_name.toLowerCase().includes(r.value.toLowerCase())||t.customer_email.toLowerCase().includes(r.value.toLowerCase())||t.package_title.toLowerCase().includes(r.value.toLowerCase()))),v.value&&(a=a.filter(t=>t.status===v.value)),m.value&&(a=a.filter(t=>t.package_title===m.value)),h.value&&(a=a.filter(t=>t.travel_date.startsWith(h.value))),a}),A=g(()=>p.value.length),I=g(()=>p.value.filter(a=>a.status==="confirmed").length),R=g(()=>p.value.filter(a=>a.status==="pending").length),H=g(()=>p.value.reduce((a,t)=>a+t.total_amount,0)),V=a=>({pending:"في الانتظار",confirmed:"مؤكد",cancelled:"ملغي",completed:"مكتمل"})[a]||a,b=a=>new Intl.NumberFormat("ar-SA",{style:"currency",currency:"SAR"}).format(a),f=a=>new Date(a).toLocaleDateString("ar-SA"),z=async()=>{try{C.value=!0,p.value=[{id:"booking-001",customer_name:"أحمد محمد",customer_email:"ahmed@example.com",customer_phone:"+966501234567",package_title:"رحلة إلى دبي",destination:"دبي، الإمارات",travel_date:"2024-03-15",participants_count:2,total_amount:5e3,paid_amount:2500,status:"confirmed",notes:"طلب غرف متجاورة",created_at:"2024-01-15T10:00:00Z",updated_at:"2024-01-15T10:00:00Z"},{id:"booking-002",customer_name:"فاطمة علي",customer_email:"fatima@example.com",customer_phone:"+966507654321",package_title:"عمرة رمضان",destination:"مكة المكرمة",travel_date:"2024-04-10",participants_count:4,total_amount:8e3,paid_amount:0,status:"pending",created_at:"2024-01-20T14:30:00Z",updated_at:"2024-01-20T14:30:00Z"}]}catch(a){console.error("Error loading bookings:",a)}finally{C.value=!1}},G=a=>{i.value=a,x.value=!0},L=a=>{console.log("Edit booking:",a.id)},O=a=>{console.log("Update status for booking:",a.id)},P=()=>{console.log("Export bookings")},w=()=>{x.value=!1,i.value=null};return W(()=>{z()}),X({title:"إدارة الحجوزات - لوحة التحكم"}),(a,t)=>{var M;const n=Y;return u(),c("div",K,[s("div",ss,[s("div",ts,[t[7]||(t[7]=s("div",{class:"header-left"},[s("h1",{class:"page-title"},"إدارة الحجوزات"),s("p",{class:"page-subtitle"},"إدارة جميع حجوزات العملاء")],-1)),s("div",es,[s("button",{onClick:P,class:"export-btn"},[d(n,{name:"lucide:download",class:"btn-icon"}),t[6]||(t[6]=D(" تصدير البيانات "))])])])]),s("div",as,[s("div",ls,[s("div",os,[d(n,{name:"lucide:calendar",class:"icon"})]),s("div",is,[s("p",ns,l(e(A)),1),t[8]||(t[8]=s("p",{class:"stat-label"},"إجمالي الحجوزات",-1))])]),s("div",ds,[s("div",cs,[d(n,{name:"lucide:check-circle",class:"icon"})]),s("div",us,[s("p",_s,l(e(I)),1),t[9]||(t[9]=s("p",{class:"stat-label"},"الحجوزات المؤكدة",-1))])]),s("div",rs,[s("div",ps,[d(n,{name:"lucide:clock",class:"icon"})]),s("div",vs,[s("p",ms,l(e(R)),1),t[10]||(t[10]=s("p",{class:"stat-label"},"في الانتظار",-1))])]),s("div",hs,[s("div",bs,[d(n,{name:"lucide:dollar-sign",class:"icon"})]),s("div",gs,[s("p",fs,l(b(e(H))),1),t[11]||(t[11]=s("p",{class:"stat-label"},"إجمالي الإيرادات",-1))])])]),s("div",ks,[s("div",ys,[s("div",Cs,[d(n,{name:"lucide:search",class:"search-icon"}),k(s("input",{"onUpdate:modelValue":t[0]||(t[0]=o=>y(r)?r.value=o:null),type:"text",placeholder:"البحث في الحجوزات...",class:"search-input"},null,512),[[F,e(r)]])]),s("div",xs,[k(s("select",{"onUpdate:modelValue":t[1]||(t[1]=o=>y(v)?v.value=o:null),class:"filter-select"},t[12]||(t[12]=[j('<option value="" data-v-e580261c>جميع الحالات</option><option value="pending" data-v-e580261c>في الانتظار</option><option value="confirmed" data-v-e580261c>مؤكد</option><option value="cancelled" data-v-e580261c>ملغي</option><option value="completed" data-v-e580261c>مكتمل</option>',5)]),512),[[N,e(v)]]),k(s("select",{"onUpdate:modelValue":t[2]||(t[2]=o=>y(m)?m.value=o:null),class:"filter-select"},[t[13]||(t[13]=s("option",{value:""},"جميع الباقات",-1)),(u(!0),c(E,null,U(e($),o=>(u(),c("option",{key:o.id,value:o.id},l(o.title),9,ws))),128))],512),[[N,e(m)]]),k(s("input",{"onUpdate:modelValue":t[3]||(t[3]=o=>y(h)?h.value=o:null),type:"date",class:"filter-select",placeholder:"تاريخ الحجز"},null,512),[[F,e(h)]])])])]),s("div",Bs,[e(C)?(u(),c("div",Ss,t[14]||(t[14]=[s("div",{class:"loading-spinner"},null,-1),s("p",null,"جاري تحميل الحجوزات...",-1)]))):e(S).length===0?(u(),c("div",Vs,[d(n,{name:"lucide:calendar",class:"empty-icon"}),t[15]||(t[15]=s("h3",null,"لا توجد حجوزات",-1)),t[16]||(t[16]=s("p",null,"لم يتم العثور على أي حجوزات تطابق معايير البحث",-1))])):(u(),c("div",Ls,[s("table",Ms,[t[17]||(t[17]=s("thead",{class:"table-header"},[s("tr",null,[s("th",{class:"table-cell"},"رقم الحجز"),s("th",{class:"table-cell"},"العميل"),s("th",{class:"table-cell"},"الباقة"),s("th",{class:"table-cell"},"تاريخ السفر"),s("th",{class:"table-cell"},"عدد الأشخاص"),s("th",{class:"table-cell"},"المبلغ"),s("th",{class:"table-cell"},"الحالة"),s("th",{class:"table-cell"},"الإجراءات")])],-1)),s("tbody",Ts,[(u(!0),c(E,null,U(e(S),o=>(u(),c("tr",{key:o.id,class:"table-row"},[s("td",Ds,[s("span",Fs,"#"+l(o.id.slice(-8)),1)]),s("td",Ns,[s("div",Es,[s("p",Us,l(o.customer_name),1),s("p",Zs,l(o.customer_email),1)])]),s("td",$s,[s("div",As,[s("p",Is,l(o.package_title),1),s("p",Rs,l(o.destination),1)])]),s("td",Hs,[s("span",zs,l(f(o.travel_date)),1)]),s("td",Gs,[s("span",Os,l(o.participants_count),1)]),s("td",Ps,[s("span",Qs,l(b(o.total_amount)),1)]),s("td",Ws,[s("span",{class:Z(["status-badge",o.status])},l(V(o.status)),3)]),s("td",Xs,[s("div",Ys,[s("button",{onClick:T=>G(o),class:"action-btn view"},[d(n,{name:"lucide:eye",class:"action-icon"})],8,js),s("button",{onClick:T=>L(o),class:"action-btn edit"},[d(n,{name:"lucide:edit",class:"action-icon"})],8,qs),s("button",{onClick:T=>O(o),class:"action-btn status"},[d(n,{name:"lucide:settings",class:"action-icon"})],8,Js)])])]))),128))])])]))]),e(x)?(u(),c("div",{key:0,class:"modal-overlay",onClick:w},[s("div",{class:"modal-content large",onClick:t[5]||(t[5]=q(()=>{},["stop"]))},[s("div",Ks,[s("h2",st,"تفاصيل الحجز #"+l((M=e(i))==null?void 0:M.id.slice(-8)),1),s("button",{onClick:w,class:"modal-close"},[d(n,{name:"lucide:x",class:"close-icon"})])]),e(i)?(u(),c("div",tt,[s("div",et,[s("div",at,[t[21]||(t[21]=s("h3",{class:"section-title"},"معلومات العميل",-1)),s("div",lt,[s("div",ot,[t[18]||(t[18]=s("span",{class:"detail-label"},"الاسم:",-1)),s("span",it,l(e(i).customer_name),1)]),s("div",nt,[t[19]||(t[19]=s("span",{class:"detail-label"},"البريد الإلكتروني:",-1)),s("span",dt,l(e(i).customer_email),1)]),s("div",ct,[t[20]||(t[20]=s("span",{class:"detail-label"},"رقم الهاتف:",-1)),s("span",ut,l(e(i).customer_phone),1)])])]),s("div",_t,[t[26]||(t[26]=s("h3",{class:"section-title"},"معلومات الرحلة",-1)),s("div",rt,[s("div",pt,[t[22]||(t[22]=s("span",{class:"detail-label"},"الباقة:",-1)),s("span",vt,l(e(i).package_title),1)]),s("div",mt,[t[23]||(t[23]=s("span",{class:"detail-label"},"الوجهة:",-1)),s("span",ht,l(e(i).destination),1)]),s("div",bt,[t[24]||(t[24]=s("span",{class:"detail-label"},"تاريخ السفر:",-1)),s("span",gt,l(f(e(i).travel_date)),1)]),s("div",ft,[t[25]||(t[25]=s("span",{class:"detail-label"},"عدد الأشخاص:",-1)),s("span",kt,l(e(i).participants_count),1)])])]),s("div",yt,[t[30]||(t[30]=s("h3",{class:"section-title"},"معلومات الدفع",-1)),s("div",Ct,[s("div",xt,[t[27]||(t[27]=s("span",{class:"detail-label"},"المبلغ الإجمالي:",-1)),s("span",wt,l(b(e(i).total_amount)),1)]),s("div",Bt,[t[28]||(t[28]=s("span",{class:"detail-label"},"المبلغ المدفوع:",-1)),s("span",St,l(b(e(i).paid_amount)),1)]),s("div",Vt,[t[29]||(t[29]=s("span",{class:"detail-label"},"المبلغ المتبقي:",-1)),s("span",Lt,l(b(e(i).total_amount-e(i).paid_amount)),1)])])]),s("div",Mt,[t[34]||(t[34]=s("h3",{class:"section-title"},"حالة الحجز",-1)),s("div",Tt,[s("div",Dt,[t[31]||(t[31]=s("span",{class:"detail-label"},"الحالة:",-1)),s("span",{class:Z(["status-badge",e(i).status])},l(V(e(i).status)),3)]),s("div",Ft,[t[32]||(t[32]=s("span",{class:"detail-label"},"تاريخ الحجز:",-1)),s("span",Nt,l(f(e(i).created_at)),1)]),s("div",Et,[t[33]||(t[33]=s("span",{class:"detail-label"},"آخر تحديث:",-1)),s("span",Ut,l(f(e(i).updated_at)),1)])])])]),e(i).notes?(u(),c("div",Zt,[t[35]||(t[35]=s("h3",{class:"section-title"},"ملاحظات",-1)),s("p",$t,l(e(i).notes),1)])):B("",!0)])):B("",!0),s("div",At,[s("button",{onClick:w,class:"btn-secondary"}," إغلاق "),s("button",{onClick:t[4]||(t[4]=o=>L(e(i))),class:"btn-primary"},[d(n,{name:"lucide:edit",class:"btn-icon"}),t[36]||(t[36]=D(" تعديل الحجز "))])])])])):B("",!0)])}}}),zt=J(It,[["__scopeId","data-v-e580261c"]]);export{zt as default};
