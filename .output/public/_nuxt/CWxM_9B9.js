import{e as G,i as c,m as D,s as Q,u as R,c as p,o as u,a as t,D as F,b as n,d as T,h as X,t as d,g as o,E as r,G as f,Y as V,X as h,F as Y,r as J,H as L,a3 as K,C as S,n as O,_ as P}from"./CPVxZRO5.js";const W={class:"destinations-page space-y-4"},tt={class:"page-header"},st={class:"header-content"},et={class:"header-right"},at={class:"stats-grid"},ot={class:"stat-card"},lt={class:"stat-icon"},it={class:"stat-content"},nt={class:"stat-value"},dt={class:"stat-card"},rt={class:"stat-icon"},ct={class:"stat-content"},ut={class:"stat-value"},pt={class:"stat-card"},vt={class:"stat-icon"},mt={class:"stat-content"},_t={class:"stat-value"},ft={class:"stat-card"},gt={class:"stat-icon"},bt={class:"stat-content"},yt={class:"stat-value"},kt={class:"filters-section"},ht={class:"filters-container"},xt={class:"search-box"},Ct={class:"filter-controls"},Dt={class:"destinations-grid"},Vt={key:0,class:"loading-state"},wt={key:1,class:"empty-state"},Ut={key:2,class:"destinations-list"},Mt={class:"destination-image"},Tt=["src","alt"],Et={class:"destination-badges"},Ft={key:0,class:"badge featured"},Lt={class:"destination-content"},St={class:"destination-header"},$t={class:"destination-name"},Bt={class:"destination-actions"},Nt=["onClick"],Zt=["onClick"],jt={class:"destination-description"},qt={class:"destination-details"},Ht={class:"detail-item"},It={class:"detail-item"},zt={class:"detail-item"},At={class:"destination-footer"},Gt={class:"destination-meta"},Qt={class:"created-date"},Rt={class:"packages-count"},Xt={class:"modal-header"},Yt={class:"modal-title"},Jt={class:"form-grid"},Kt={class:"form-group"},Ot={class:"form-group"},Pt={class:"form-group"},Wt={class:"form-group"},ts={class:"form-group"},ss={class:"form-group"},es={class:"form-group full-width"},as={class:"form-group"},os={class:"form-label flex items-center space-x-2 space-x-reverse"},ls={class:"modal-actions"},is=["disabled"],ns=G({__name:"index",setup(ds){const v=c([]),w=c(!0),g=c(!1),m=c(""),b=c(""),y=c(""),_=c(""),x=c(!1),k=c(!1),U=c(null),l=c({name:"",description:"",country:"",type:"domestic",best_time_to_visit:"",status:"active",is_featured:!1,image_url:""}),E=D(()=>{let a=v.value;return m.value&&(a=a.filter(s=>s.name.toLowerCase().includes(m.value.toLowerCase())||s.country.toLowerCase().includes(m.value.toLowerCase()))),b.value&&(a=a.filter(s=>s.status===b.value)),y.value&&(a=a.filter(s=>s.type===y.value)),_.value&&(_.value==="featured"?a=a.filter(s=>s.is_featured):_.value==="regular"&&(a=a.filter(s=>!s.is_featured))),a}),$=D(()=>v.value.filter(a=>a.status==="active").length),B=D(()=>v.value.filter(a=>a.is_featured).length),N=D(()=>v.value.filter(a=>(a.packages_count||0)>0).length),Z=a=>({active:"نشط",inactive:"غير نشط"})[a]||a,j=a=>({domestic:"محلية",international:"دولية"})[a]||a,q=a=>new Date(a).toLocaleDateString("ar-SA"),M=async()=>{try{w.value=!0,v.value=[{id:"1",name:"دبي",description:"مدينة الأحلام والرفاهية في الإمارات العربية المتحدة",country:"الإمارات العربية المتحدة",type:"international",best_time_to_visit:"نوفمبر - مارس",status:"active",is_featured:!0,image_url:"/images/dubai.jpg",packages_count:5,created_at:"2024-01-01T00:00:00Z",updated_at:"2024-01-01T00:00:00Z"},{id:"2",name:"الرياض",description:"عاصمة المملكة العربية السعودية ومركزها التجاري",country:"المملكة العربية السعودية",type:"domestic",best_time_to_visit:"أكتوبر - أبريل",status:"active",is_featured:!1,image_url:"/images/riyadh.jpg",packages_count:3,created_at:"2024-01-01T00:00:00Z",updated_at:"2024-01-01T00:00:00Z"}]}catch(a){console.error("Error loading destinations:",a)}finally{w.value=!1}},H=a=>{U.value=a,l.value={...a},k.value=!0},I=async a=>{if(confirm(`هل أنت متأكد من حذف الوجهة "${a.name}"؟`))try{console.log("Delete destination:",a.id),await M()}catch(s){console.error("Error deleting destination:",s)}},z=async()=>{try{g.value=!0,k.value&&U.value?console.log("Update destination:",l.value):console.log("Create destination:",l.value),await M(),C()}catch(a){console.error("Error saving destination:",a)}finally{g.value=!1}},C=()=>{x.value=!1,k.value=!1,U.value=null,l.value={name:"",description:"",country:"",type:"domestic",best_time_to_visit:"",status:"active",is_featured:!1,image_url:""}};return Q(()=>{M()}),R({title:"إدارة الوجهات - لوحة التحكم"}),(a,s)=>{const i=X;return u(),p("div",W,[t("div",tt,[t("div",st,[s[16]||(s[16]=t("div",{class:"header-left"},[t("h1",{class:"page-title"},"إدارة الوجهات"),t("p",{class:"page-subtitle"},"إدارة جميع الوجهات السياحية المتاحة")],-1)),t("div",et,[t("button",{onClick:s[0]||(s[0]=e=>x.value=!0),class:"create-btn"},[n(i,{name:"lucide:plus",class:"btn-icon"}),s[15]||(s[15]=T(" إضافة وجهة جديدة "))])])])]),t("div",at,[t("div",ot,[t("div",lt,[n(i,{name:"lucide:map-pin",class:"icon"})]),t("div",it,[t("p",nt,d(o(v).length),1),s[17]||(s[17]=t("p",{class:"stat-label"},"إجمالي الوجهات",-1))])]),t("div",dt,[t("div",rt,[n(i,{name:"lucide:globe",class:"icon"})]),t("div",ct,[t("p",ut,d(o($)),1),s[18]||(s[18]=t("p",{class:"stat-label"},"الوجهات النشطة",-1))])]),t("div",pt,[t("div",vt,[n(i,{name:"lucide:star",class:"icon"})]),t("div",mt,[t("p",_t,d(o(B)),1),s[19]||(s[19]=t("p",{class:"stat-label"},"الوجهات المميزة",-1))])]),t("div",ft,[t("div",gt,[n(i,{name:"lucide:trending-up",class:"icon"})]),t("div",bt,[t("p",yt,d(o(N)),1),s[20]||(s[20]=t("p",{class:"stat-label"},"الأكثر شعبية",-1))])])]),t("div",kt,[t("div",ht,[t("div",xt,[n(i,{name:"lucide:search",class:"search-icon"}),r(t("input",{"onUpdate:modelValue":s[1]||(s[1]=e=>V(m)?m.value=e:null),type:"text",placeholder:"البحث في الوجهات...",class:"search-input"},null,512),[[f,o(m)]])]),t("div",Ct,[r(t("select",{"onUpdate:modelValue":s[2]||(s[2]=e=>V(b)?b.value=e:null),class:"filter-select"},s[21]||(s[21]=[t("option",{value:""},"جميع الحالات",-1),t("option",{value:"active"},"نشط",-1),t("option",{value:"inactive"},"غير نشط",-1)]),512),[[h,o(b)]]),r(t("select",{"onUpdate:modelValue":s[3]||(s[3]=e=>V(y)?y.value=e:null),class:"filter-select"},s[22]||(s[22]=[t("option",{value:""},"جميع الأنواع",-1),t("option",{value:"domestic"},"محلية",-1),t("option",{value:"international"},"دولية",-1)]),512),[[h,o(y)]]),r(t("select",{"onUpdate:modelValue":s[4]||(s[4]=e=>V(_)?_.value=e:null),class:"filter-select"},s[23]||(s[23]=[t("option",{value:""},"جميع الوجهات",-1),t("option",{value:"featured"},"مميزة",-1),t("option",{value:"regular"},"عادية",-1)]),512),[[h,o(_)]])])])]),t("div",Dt,[o(w)?(u(),p("div",Vt,s[24]||(s[24]=[t("div",{class:"loading-spinner"},null,-1),t("p",null,"جاري تحميل الوجهات...",-1)]))):o(E).length===0?(u(),p("div",wt,[n(i,{name:"lucide:map-pin",class:"empty-icon"}),s[25]||(s[25]=t("h3",null,"لا توجد وجهات",-1)),s[26]||(s[26]=t("p",null,"لم يتم العثور على أي وجهات تطابق معايير البحث",-1)),t("button",{onClick:s[5]||(s[5]=e=>x.value=!0),class:"create-first-btn"}," إضافة أول وجهة ")])):(u(),p("div",Ut,[(u(!0),p(Y,null,J(o(E),e=>(u(),p("div",{key:e.id,class:"destination-card"},[t("div",Mt,[t("img",{src:e.image_url||"/images/placeholder-destination.jpg",alt:e.name,class:"destination-img"},null,8,Tt),t("div",Et,[e.is_featured?(u(),p("div",Ft,[n(i,{name:"lucide:star",class:"badge-icon"}),s[27]||(s[27]=T(" مميز "))])):F("",!0),t("div",{class:O(["badge status",e.status])},d(Z(e.status)),3)])]),t("div",Lt,[t("div",St,[t("h3",$t,d(e.name),1),t("div",Bt,[t("button",{onClick:A=>H(e),class:"action-btn edit"},[n(i,{name:"lucide:edit",class:"action-icon"})],8,Nt),t("button",{onClick:A=>I(e),class:"action-btn delete"},[n(i,{name:"lucide:trash-2",class:"action-icon"})],8,Zt)])]),t("p",jt,d(e.description),1),t("div",qt,[t("div",Ht,[n(i,{name:"lucide:map-pin",class:"detail-icon"}),t("span",null,d(e.country),1)]),t("div",It,[n(i,{name:"lucide:globe",class:"detail-icon"}),t("span",null,d(j(e.type)),1)]),t("div",zt,[n(i,{name:"lucide:calendar",class:"detail-icon"}),t("span",null,"أفضل وقت: "+d(e.best_time_to_visit),1)])]),t("div",At,[t("div",Gt,[t("span",Qt,d(q(e.created_at)),1),t("span",Rt,d(e.packages_count||0)+" باقة ",1)])])])]))),128))]))]),o(x)||o(k)?(u(),p("div",{key:0,class:"modal-overlay",onClick:C},[t("div",{class:"modal-content",onClick:s[14]||(s[14]=L(()=>{},["stop"]))},[t("div",Xt,[t("h2",Yt,d(o(k)?"تعديل الوجهة":"إضافة وجهة جديدة"),1),t("button",{onClick:C,class:"modal-close"},[n(i,{name:"lucide:x",class:"close-icon"})])]),t("form",{onSubmit:L(z,["prevent"]),class:"modal-form"},[t("div",Jt,[t("div",Kt,[s[28]||(s[28]=t("label",{class:"form-label"},"اسم الوجهة *",-1)),r(t("input",{"onUpdate:modelValue":s[6]||(s[6]=e=>o(l).name=e),type:"text",class:"form-input",required:""},null,512),[[f,o(l).name]])]),t("div",Ot,[s[29]||(s[29]=t("label",{class:"form-label"},"البلد *",-1)),r(t("input",{"onUpdate:modelValue":s[7]||(s[7]=e=>o(l).country=e),type:"text",class:"form-input",required:""},null,512),[[f,o(l).country]])]),t("div",Pt,[s[31]||(s[31]=t("label",{class:"form-label"},"النوع *",-1)),r(t("select",{"onUpdate:modelValue":s[8]||(s[8]=e=>o(l).type=e),class:"form-select",required:""},s[30]||(s[30]=[t("option",{value:"domestic"},"محلية",-1),t("option",{value:"international"},"دولية",-1)]),512),[[h,o(l).type]])]),t("div",Wt,[s[32]||(s[32]=t("label",{class:"form-label"},"أفضل وقت للزيارة",-1)),r(t("input",{"onUpdate:modelValue":s[9]||(s[9]=e=>o(l).best_time_to_visit=e),type:"text",class:"form-input",placeholder:"مثال: مارس - مايو"},null,512),[[f,o(l).best_time_to_visit]])]),t("div",ts,[s[33]||(s[33]=t("label",{class:"form-label"},"رابط الصورة",-1)),r(t("input",{"onUpdate:modelValue":s[10]||(s[10]=e=>o(l).image_url=e),type:"url",class:"form-input"},null,512),[[f,o(l).image_url]])]),t("div",ss,[s[35]||(s[35]=t("label",{class:"form-label"},"الحالة",-1)),r(t("select",{"onUpdate:modelValue":s[11]||(s[11]=e=>o(l).status=e),class:"form-select"},s[34]||(s[34]=[t("option",{value:"active"},"نشط",-1),t("option",{value:"inactive"},"غير نشط",-1)]),512),[[h,o(l).status]])]),t("div",es,[s[36]||(s[36]=t("label",{class:"form-label"},"الوصف",-1)),r(t("textarea",{"onUpdate:modelValue":s[12]||(s[12]=e=>o(l).description=e),class:"form-textarea",rows:"4"},null,512),[[f,o(l).description]])]),t("div",as,[t("label",os,[r(t("input",{"onUpdate:modelValue":s[13]||(s[13]=e=>o(l).is_featured=e),type:"checkbox",class:"form-checkbox"},null,512),[[K,o(l).is_featured]]),s[37]||(s[37]=t("span",null,"وجهة مميزة",-1))])])]),t("div",ls,[t("button",{type:"button",onClick:C,class:"btn-secondary"}," إلغاء "),t("button",{type:"submit",class:"btn-primary",disabled:o(g)},[o(g)?(u(),S(i,{key:0,name:"lucide:loader-2",class:"btn-icon animate-spin"})):(u(),S(i,{key:1,name:"lucide:save",class:"btn-icon"})),T(" "+d(o(g)?"جاري الحفظ...":"حفظ"),1)],8,is)])],32)])])):F("",!0)])}}}),cs=P(ns,[["__scopeId","data-v-285b690e"]]);export{cs as default};
