import{z as p,i as c}from"./cyIqoV0L.js";import{u as m}from"./C7uf9Ft6.js";const y=()=>{const l="+966500982394",f="https://wa.me",{locale:u}=p(),i=c(!1),a=c(null),n=c(!1);return{whatsappNumber:l,getWhatsAppUrl:e=>{const t=`${f}/${l}`;if(!e)return t;const r=encodeURIComponent(e);return`${t}?text=${r}`},sendPackageNotification:async e=>{var t;n.value=!0,a.value=null;try{const r=m(),{data:s,error:o}=await r.from("package_inquiries").insert({name:e.name,email:e.email,phone:e.phone,package_id:e.packageId,package_name:e.packageName,message:e.message,created_at:new Date().toISOString(),locale:u.value,notification_sent:!1}).select();if(o)throw new Error(`Database error: ${o.message}`);return i.value=!0,{success:!0,messageId:(t=s==null?void 0:s[0])==null?void 0:t.id,error:void 0}}catch(r){return console.error("Failed to store package inquiry:",r),a.value=r.message||"Failed to store inquiry",{success:!1,error:a.value||"Failed to store inquiry"}}finally{n.value=!1}},sendDestinationNotification:async e=>{var t;n.value=!0,a.value=null;try{const r=m(),{data:s,error:o}=await r.from("destination_inquiries").insert({name:e.name,email:e.email,phone:e.phone,destination_name:e.destinationName,message:e.message,created_at:new Date().toISOString(),locale:u.value,notification_sent:!1}).select();if(o)throw new Error(`Database error: ${o.message}`);return i.value=!0,{success:!0,messageId:(t=s==null?void 0:s[0])==null?void 0:t.id,error:void 0}}catch(r){return console.error("Failed to store destination inquiry:",r),a.value=r.message||"Failed to store inquiry",{success:!1,error:a.value||"Failed to store inquiry"}}finally{n.value=!1}},notificationSent:i,notificationError:a,isLoading:n}};export{y as u};
