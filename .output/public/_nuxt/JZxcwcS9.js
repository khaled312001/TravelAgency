import{i as u,M as F,N as x,e as O,s as T,u as B,c as d,o as n,a as t,t as a,g as i,b as o,h as V,F as j,r as S,O as I,d as L,w as b,y as $}from"./XV_oOV7_.js";import{_ as M}from"./CPTGUQvn.js";const R=()=>{const D=u(null),l=u([]),f=u([]),_=u([]),h=u([]),m=u(!1),{getAuthHeaders:g}=F(),w=async()=>{try{const e=await $fetch("/api/admin/dashboard/stats",{headers:g()});D.value=e}catch(e){throw console.error("Error fetching dashboard stats:",e),e}},v=async()=>{try{const e=await $fetch("/api/admin/dashboard/charts",{headers:g()});l.value=e.bookingDistribution,f.value=e.monthlySales}catch(e){throw console.error("Error fetching chart data:",e),e}},p=async()=>{try{const e=await $fetch("/api/admin/dashboard/popular-packages",{headers:g()});_.value=e}catch(e){throw console.error("Error fetching popular packages:",e),e}},k=async()=>{try{const e=await $fetch("/api/admin/dashboard/recent-activities",{headers:g()});h.value=e}catch(e){throw console.error("Error fetching recent activities:",e),e}},c=async()=>{m.value=!0;try{await Promise.all([w(),v(),p(),k()])}catch(e){throw console.error("Error fetching dashboard data:",e),e}finally{m.value=!1}};return{stats:x(D),bookingDistribution:x(l),monthlySales:x(f),popularPackages:x(_),recentActivities:x(h),isLoading:x(m),fetchStats:w,fetchCharts:v,fetchPopularPackages:p,fetchRecentActivities:k,fetchDashboardData:c}},G={class:"space-y-4"},H={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6"},W={class:"bg-white rounded-xl p-6 shadow-sm border border-gray-200"},Z={class:"flex items-center justify-between"},z={class:"text-2xl font-bold text-gray-900"},U={class:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center"},q={class:"bg-white rounded-xl p-6 shadow-sm border border-gray-200"},J={class:"flex items-center justify-between"},K={class:"text-2xl font-bold text-gray-900"},Q={class:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center"},X={class:"bg-white rounded-xl p-6 shadow-sm border border-gray-200"},Y={class:"flex items-center justify-between"},tt={class:"text-2xl font-bold text-gray-900"},et={class:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center"},st={class:"bg-white rounded-xl p-6 shadow-sm border border-gray-200"},ot={class:"flex items-center justify-between"},at={class:"text-2xl font-bold text-gray-900"},rt={class:"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center"},dt={class:"bg-white rounded-xl p-6 shadow-sm border border-gray-200"},nt={class:"flex items-center justify-between"},it={class:"text-2xl font-bold text-gray-900"},lt={class:"w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center"},ct={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},mt={class:"bg-white rounded-xl p-6 shadow-sm border border-gray-200"},gt={class:"space-y-4"},ut={class:"flex items-center"},xt={class:"text-sm text-gray-700"},ht={class:"text-right"},pt={class:"text-sm font-medium text-gray-900"},yt={class:"text-xs text-gray-500"},bt={class:"bg-white rounded-xl p-6 shadow-sm border border-gray-200"},ft={class:"space-y-4"},_t={class:"text-sm text-gray-700"},wt={class:"flex items-center space-x-4 space-x-reverse"},vt={class:"w-32 bg-gray-200 rounded-full h-2"},kt={class:"text-sm font-medium text-gray-900 w-20 text-left"},jt={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},St={class:"bg-white rounded-xl p-6 shadow-sm border border-gray-200"},Dt={class:"space-y-4"},At={class:"bg-red-50 border border-red-200 rounded-lg p-3"},Et={class:"flex items-start"},Pt={class:"space-y-2"},Nt={class:"space-y-2"},Ct={class:"flex items-center text-sm text-gray-700"},Lt={class:"flex items-center text-sm text-gray-700"},$t={class:"bg-white rounded-xl p-6 shadow-sm border border-gray-200"},Ft={class:"space-y-4"},Ot={class:"w-12 h-12 bg-gray-200 rounded-lg flex-shrink-0"},Tt=["src","alt"],Bt={class:"flex-1"},Vt={class:"text-sm font-medium text-gray-900"},It={class:"text-sm text-gray-600"},Mt={class:"text-xs text-gray-500"},Rt={class:"bg-white rounded-xl p-6 shadow-sm border border-gray-200"},Gt={class:"space-y-4"},Ht={class:"flex-1"},Wt={class:"text-sm text-gray-900"},Zt={class:"text-xs text-gray-500 mt-1"},zt={class:"grid grid-cols-2 md:grid-cols-5 gap-4"},Ut={class:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center mx-auto mb-3"},qt={class:"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center mx-auto mb-3"},Jt={class:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center mx-auto mb-3"},Kt={class:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mx-auto mb-3"},Qt={class:"w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center mx-auto mb-3"},te=O({__name:"index",setup(D){const{stats:l,bookingDistribution:f,monthlySales:_,popularPackages:h,recentActivities:m,fetchDashboardData:g}=R(),w=[{id:"1",title:"رحلة إلى دبي",price:2500,views:150,image_url:"/images/packages/home/package-1.jpeg"},{id:"2",title:"عمرة رمضان",price:1800,views:120,image_url:"/images/packages/home/package-1.jpeg"}],v=[{id:"1",action:"create_package",description:"تم إنشاء حزمة جديدة",timestamp:"2024-01-31T13:52:00Z",type:"package"},{id:"2",action:"new_message",description:"رسالة جديدة من العميل",timestamp:"2024-01-31T12:52:00Z",type:"message"}];T(async()=>{try{await g()}catch(c){console.error("Error loading dashboard:",c)}}),h.value=w,m.value=v;const p=c=>new Intl.NumberFormat("ar-SA",{style:"currency",currency:"SAR",minimumFractionDigits:0}).format(c),k=c=>new Intl.DateTimeFormat("ar-SA",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(new Date(c));return B({title:"لوحة التحكم - Wonder Land"}),(c,e)=>{var A,E,P,N,C;const r=V,y=M;return n(),d("div",G,[e[23]||(e[23]=t("div",{class:"bg-gradient-to-r from-gray-100 to-gray-200 rounded-2xl p-8"},[t("h1",{class:"text-3xl font-bold text-gray-900 mb-2"}," مرحباً بك في لوحة التحكم "),t("p",{class:"text-gray-600 text-lg"}," إدارة شاملة لموقع Wonder Land Traveling Agency ")],-1)),t("div",H,[t("div",W,[t("div",Z,[t("div",null,[e[0]||(e[0]=t("p",{class:"text-sm font-medium text-gray-600"},"المستخدمين",-1)),t("p",z,a(((A=i(l))==null?void 0:A.totalUsers)||0),1)]),t("div",U,[o(r,{name:"lucide:users",class:"w-6 h-6 text-blue-600"})])])]),t("div",q,[t("div",J,[t("div",null,[e[1]||(e[1]=t("p",{class:"text-sm font-medium text-gray-600"},"رسائل جديدة",-1)),t("p",K,a(((E=i(l))==null?void 0:E.newMessages)||0),1)]),t("div",Q,[o(r,{name:"lucide:mail",class:"w-6 h-6 text-green-600"})])])]),t("div",X,[t("div",Y,[t("div",null,[e[2]||(e[2]=t("p",{class:"text-sm font-medium text-gray-600"},"إجمالي الوجهات",-1)),t("p",tt,a(((P=i(l))==null?void 0:P.totalDestinations)||0),1)]),t("div",et,[o(r,{name:"lucide:map-pin",class:"w-6 h-6 text-purple-600"})])])]),t("div",st,[t("div",ot,[t("div",null,[e[3]||(e[3]=t("p",{class:"text-sm font-medium text-gray-600"},"إجمالي الباقات",-1)),t("p",at,a(((N=i(l))==null?void 0:N.totalPackages)||0),1)]),t("div",rt,[o(r,{name:"lucide:package",class:"w-6 h-6 text-orange-600"})])])]),t("div",dt,[t("div",nt,[t("div",null,[e[4]||(e[4]=t("p",{class:"text-sm font-medium text-gray-600"},"إجمالي الحجوزات",-1)),t("p",it,a(((C=i(l))==null?void 0:C.totalBookings)||0),1)]),t("div",lt,[o(r,{name:"lucide:calendar",class:"w-6 h-6 text-red-600"})])])])]),t("div",ct,[t("div",mt,[e[5]||(e[5]=t("h3",{class:"text-lg font-semibold text-gray-900 mb-2"},"توزيع الحجوزات",-1)),e[6]||(e[6]=t("p",{class:"text-sm text-gray-600 mb-6"},"حسب النوع",-1)),t("div",gt,[(n(!0),d(j,null,S(i(f),s=>(n(),d("div",{key:s.type,class:"flex items-center justify-between"},[t("div",ut,[t("div",{class:"w-4 h-4 rounded-full ml-3",style:$({backgroundColor:s.color})},null,4),t("span",xt,a(s.type),1)]),t("div",ht,[t("p",pt,a(s.count),1),t("p",yt,a(s.percentage)+"%",1)])]))),128))])]),t("div",bt,[e[7]||(e[7]=t("h3",{class:"text-lg font-semibold text-gray-900 mb-2"},"المبيعات الشهرية",-1)),e[8]||(e[8]=t("p",{class:"text-sm text-gray-600 mb-6"},"آخر 6 أشهر",-1)),t("div",ft,[(n(!0),d(j,null,S(i(_),s=>(n(),d("div",{key:s.month,class:"flex items-center justify-between"},[t("span",_t,a(s.month),1),t("div",wt,[t("div",vt,[t("div",{class:"bg-gradient-to-r from-pink-500 to-purple-600 h-2 rounded-full transition-all duration-500",style:$({width:`${s.amount/7e4*100}%`})},null,4)]),t("span",kt,a(p(s.amount)),1)])]))),128))])])]),t("div",jt,[t("div",St,[e[14]||(e[14]=t("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"إحصائيات SEO",-1)),t("div",Dt,[e[13]||(e[13]=I('<div><div class="flex items-center justify-between mb-2"><span class="text-sm text-gray-600">معدل الأداء</span><span class="text-sm font-medium text-gray-900">87%</span></div><div class="w-full bg-gray-200 rounded-full h-2"><div class="bg-green-500 h-2 rounded-full" style="width:87%;"></div></div></div><div><span class="text-sm text-gray-600">صفحات مفهرسة</span><p class="text-lg font-semibold text-gray-900">45</p></div>',2)),t("div",At,[t("div",Et,[o(r,{name:"lucide:alert-triangle",class:"w-5 h-5 text-red-500 ml-2 mt-0.5"}),e[9]||(e[9]=t("div",null,[t("p",{class:"text-sm font-medium text-red-800"},"3 مشكلة SEO تحتاج انتباه"),t("p",{class:"text-xs text-red-600 mt-1"},"راجع صفحة إدارة SEO لحل هذه المشاكل")],-1))])]),t("div",Pt,[e[12]||(e[12]=t("h4",{class:"text-sm font-medium text-gray-900"},"توصيات سريعة",-1)),t("div",Nt,[t("div",Ct,[o(r,{name:"lucide:check",class:"w-4 h-4 text-green-500 ml-2"}),e[10]||(e[10]=L(" أضف كود Google Analytics لتتبع الزوار "))]),t("div",Lt,[o(r,{name:"lucide:check",class:"w-4 h-4 text-green-500 ml-2"}),e[11]||(e[11]=L(" أضف كود Google Search Console لتحسين الفهرسة "))])])])])]),t("div",$t,[e[15]||(e[15]=t("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"الباقات الأكثر شعبية",-1)),t("div",Ft,[(n(!0),d(j,null,S(i(h),s=>(n(),d("div",{key:s.id,class:"flex items-center space-x-4 space-x-reverse"},[t("div",Ot,[t("img",{src:s.image_url,alt:s.title,class:"w-full h-full object-cover rounded-lg"},null,8,Tt)]),t("div",Bt,[t("h4",Vt,a(s.title),1),t("p",It,a(p(s.price)),1),t("p",Mt,a(s.views)+" مشاهدة",1)])]))),128))])]),t("div",Rt,[e[17]||(e[17]=t("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"الأنشطة الحديثة",-1)),t("div",Gt,[(n(!0),d(j,null,S(i(m),s=>(n(),d("div",{key:s.id,class:"flex items-start space-x-3 space-x-reverse"},[e[16]||(e[16]=t("div",{class:"w-2 h-2 bg-blue-500 rounded-full mt-2 flex-shrink-0"},null,-1)),t("div",Ht,[t("p",Wt,a(s.description),1),t("p",Zt,a(k(s.timestamp)),1)])]))),128))])])]),t("div",zt,[o(y,{to:"/admin/destinations/new",class:"bg-white rounded-xl p-6 shadow-sm border border-gray-200 hover:shadow-md transition-shadow text-center"},{default:b(()=>[t("div",Ut,[o(r,{name:"lucide:plus",class:"w-6 h-6 text-blue-600"})]),e[18]||(e[18]=t("p",{class:"text-sm font-medium text-gray-900"},"إضافة وجهة",-1))]),_:1}),o(y,{to:"/admin/packages/new",class:"bg-white rounded-xl p-6 shadow-sm border border-gray-200 hover:shadow-md transition-shadow text-center"},{default:b(()=>[t("div",qt,[o(r,{name:"lucide:plus",class:"w-6 h-6 text-orange-600"})]),e[19]||(e[19]=t("p",{class:"text-sm font-medium text-gray-900"},"إضافة باقة",-1))]),_:1}),o(y,{to:"/admin/messages",class:"bg-white rounded-xl p-6 shadow-sm border border-gray-200 hover:shadow-md transition-shadow text-center"},{default:b(()=>[t("div",Jt,[o(r,{name:"lucide:mail",class:"w-6 h-6 text-green-600"})]),e[20]||(e[20]=t("p",{class:"text-sm font-medium text-gray-900"},"عرض الرسائل",-1))]),_:1}),o(y,{to:"/admin/seo",class:"bg-white rounded-xl p-6 shadow-sm border border-gray-200 hover:shadow-md transition-shadow text-center"},{default:b(()=>[t("div",Kt,[o(r,{name:"lucide:search",class:"w-6 h-6 text-purple-600"})]),e[21]||(e[21]=t("p",{class:"text-sm font-medium text-gray-900"},"إدارة SEO",-1))]),_:1}),o(y,{to:"/admin/settings",class:"bg-white rounded-xl p-6 shadow-sm border border-gray-200 hover:shadow-md transition-shadow text-center"},{default:b(()=>[t("div",Qt,[o(r,{name:"lucide:settings",class:"w-6 h-6 text-gray-600"})]),e[22]||(e[22]=t("p",{class:"text-sm font-medium text-gray-900"},"الإعدادات",-1))]),_:1})])])}}});export{te as default};
