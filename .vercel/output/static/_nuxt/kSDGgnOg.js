import{e as L,M as b,P as V,Q as A,i as m,u as C,c as x,o as c,a as e,b as r,h as M,H as B,D,E as y,G as N,g as t,R as T,t as v,C as w,d as p,S as h}from"./CHqgt15z.js";const j={class:"min-h-screen bg-gradient-to-br from-pink-500 via-purple-600 to-blue-600 flex items-center justify-center p-4",dir:"rtl"},S={class:"max-w-md w-full"},q={class:"bg-white rounded-2xl shadow-2xl p-8"},E={class:"text-center mb-8"},H={class:"w-16 h-16 bg-gradient-to-r from-pink-500 to-purple-600 rounded-full mx-auto mb-4 flex items-center justify-center"},P={class:"relative"},U={class:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none"},W=["disabled"],G={class:"relative"},I={class:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none"},Q=["type","disabled"],R=["disabled"],$={key:0,class:"bg-red-50 border border-red-200 rounded-lg p-4"},z={class:"flex"},F={class:"text-sm text-red-700"},J=["disabled"],X=L({__name:"login",async setup(K){let f,g;const{isAuthenticated:_}=b();_.value&&([f,g]=V(()=>h("/admin")),await f,g());const a=A({email:"",password:""}),i=m(!1),l=m(!1),n=m(""),k=async()=>{var u;if(!l.value){l.value=!0,n.value="";try{const{login:s}=b(),o=await s(a);console.log("Login response:",o),o&&o.success?(console.log("Login successful, navigating to admin dashboard"),await h("/admin")):n.value=(o==null?void 0:o.message)||"فشل في تسجيل الدخول"}catch(s){console.error("Login error:",s),n.value=((u=s.data)==null?void 0:u.message)||"حدث خطأ أثناء تسجيل الدخول"}finally{l.value=!1}}};return C({title:"تسجيل الدخول - لوحة التحكم"}),(u,s)=>{const o=M;return c(),x("div",j,[e("div",S,[e("div",q,[e("div",E,[e("div",H,[r(o,{name:"lucide:shield-check",class:"w-8 h-8 text-white"})]),s[3]||(s[3]=e("h1",{class:"text-2xl font-bold text-gray-900"},"Wonder Land",-1)),s[4]||(s[4]=e("p",{class:"text-gray-600 mt-2"},"لوحة التحكم الإدارية",-1))]),e("form",{onSubmit:B(k,["prevent"]),class:"space-y-6"},[e("div",null,[s[5]||(s[5]=e("label",{for:"email",class:"block text-sm font-medium text-gray-700 mb-2"}," البريد الإلكتروني ",-1)),e("div",P,[e("div",U,[r(o,{name:"lucide:mail",class:"h-5 w-5 text-gray-400"})]),y(e("input",{id:"email","onUpdate:modelValue":s[0]||(s[0]=d=>t(a).email=d),type:"email",required:"",class:"block w-full pr-10 pl-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-colors",placeholder:"admin@wonderland.com",disabled:t(l)},null,8,W),[[N,t(a).email]])])]),e("div",null,[s[6]||(s[6]=e("label",{for:"password",class:"block text-sm font-medium text-gray-700 mb-2"}," كلمة المرور ",-1)),e("div",G,[e("div",I,[r(o,{name:"lucide:lock",class:"h-5 w-5 text-gray-400"})]),y(e("input",{id:"password","onUpdate:modelValue":s[1]||(s[1]=d=>t(a).password=d),type:t(i)?"text":"password",required:"",class:"block w-full pr-10 pl-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-colors",placeholder:"••••••••",disabled:t(l)},null,8,Q),[[T,t(a).password]]),e("button",{type:"button",onClick:s[2]||(s[2]=d=>i.value=!t(i)),class:"absolute inset-y-0 left-0 pl-3 flex items-center",disabled:t(l)},[r(o,{name:t(i)?"lucide:eye-off":"lucide:eye",class:"h-5 w-5 text-gray-400 hover:text-gray-600"},null,8,["name"])],8,R)])]),t(n)?(c(),x("div",$,[e("div",z,[r(o,{name:"lucide:alert-circle",class:"h-5 w-5 text-red-400 ml-2"}),e("p",F,v(t(n)),1)])])):D("",!0),e("button",{type:"submit",disabled:t(l),class:"w-full flex justify-center items-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-gradient-to-r from-pink-500 to-purple-600 hover:from-pink-600 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all"},[t(l)?(c(),w(o,{key:0,name:"lucide:loader-2",class:"w-4 h-4 ml-2 animate-spin"})):(c(),w(o,{key:1,name:"lucide:log-in",class:"w-4 h-4 ml-2"})),p(" "+v(t(l)?"جاري تسجيل الدخول...":"تسجيل الدخول"),1)],8,J)],32),s[7]||(s[7]=e("div",{class:"mt-6 p-4 bg-gray-50 rounded-lg"},[e("h3",{class:"text-sm font-medium text-gray-700 mb-2"},"بيانات الدخول التجريبية:"),e("div",{class:"text-xs text-gray-600 space-y-1"},[e("p",null,[e("strong",null,"البريد الإلكتروني:"),p(" admin@wonderland.com")]),e("p",null,[e("strong",null,"كلمة المرور:"),p(" admin123")])])],-1))]),s[8]||(s[8]=e("div",{class:"text-center mt-6"},[e("p",{class:"text-white/80 text-sm"}," © 2024 Wonder Land Traveling Agency. جميع الحقوق محفوظة. ")],-1))])])}}});export{X as default};
