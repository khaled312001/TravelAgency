import{H as a,q as t,s as e}from"./server.mjs";import{defineComponent as s,ref as i,computed as l,mergeProps as d,unref as r,useSSRContext as o}from"vue";import{ssrRenderAttrs as c,ssrRenderComponent as v,ssrRenderAttr as n,ssrIncludeBooleanAttr as p,ssrLooseContain as u,ssrLooseEqual as b,ssrRenderList as f,ssrRenderClass as m,ssrInterpolate as y}from"vue/server-renderer";import"../_/nitro.mjs";import"node:http";import"node:https";import"node:events";import"node:buffer";import"@iconify/utils";import"node:crypto";import"consola";import"node:module";import"node:url";import"ipx";import"node:fs";import"node:path";import"vue-router";import"@supabase/ssr";import"@iconify/vue";import"../routes/renderer.mjs";import"vue-bundle-renderer/runtime";import"unhead/server";import"unhead/utils";import"devalue";import"unhead/plugins";import"@unhead/schema-org";import"@unhead/schema-org/vue";import"floating-vue";import"@iconify/utils/lib/css/icon";const g=s({__name:"index",__ssrInlineRender:!0,setup(e){const s=i([]),o=i(!0),g=i(!1),h=i(""),$=i(""),A=i(""),x=i(!1),k=i(!1);i(null);const j=i({title:"",description:"",destination:"",price:0,duration:0,max_participants:0,category:"domestic",status:"active",image_url:""}),_=l((()=>{let a=s.value;return h.value&&(a=a.filter((a=>a.title.toLowerCase().includes(h.value.toLowerCase())||a.destination.toLowerCase().includes(h.value.toLowerCase())))),$.value&&(a=a.filter((a=>a.status===$.value))),A.value&&(a=a.filter((a=>a.category===A.value))),a}));return a({title:"إدارة الباقات - لوحة التحكم"}),(a,e,s,i)=>{const l=t;e(`<div${c(d({class:"packages-page space-y-4"},i))} data-v-2f472b55><div class="page-header" data-v-2f472b55><div class="header-content" data-v-2f472b55><div class="header-left" data-v-2f472b55><h1 class="page-title" data-v-2f472b55>إدارة الباقات</h1><p class="page-subtitle" data-v-2f472b55>إدارة جميع باقات السفر المتاحة</p></div><div class="header-right" data-v-2f472b55><button class="create-btn" data-v-2f472b55>`),e(v(l,{name:"lucide:plus",class:"btn-icon"},null,s)),e(' إضافة باقة جديدة </button></div></div></div><div class="filters-section" data-v-2f472b55><div class="filters-container" data-v-2f472b55><div class="search-box" data-v-2f472b55>'),e(v(l,{name:"lucide:search",class:"search-icon"},null,s)),e(`<input${n("value",r(h))} type="text" placeholder="البحث في الباقات..." class="search-input" data-v-2f472b55></div><div class="filter-controls" data-v-2f472b55><select class="filter-select" data-v-2f472b55><option value="" data-v-2f472b55${p(Array.isArray(r($))?u(r($),""):b(r($),""))?" selected":""}>جميع الحالات</option><option value="active" data-v-2f472b55${p(Array.isArray(r($))?u(r($),"active"):b(r($),"active"))?" selected":""}>نشط</option><option value="inactive" data-v-2f472b55${p(Array.isArray(r($))?u(r($),"inactive"):b(r($),"inactive"))?" selected":""}>غير نشط</option><option value="draft" data-v-2f472b55${p(Array.isArray(r($))?u(r($),"draft"):b(r($),"draft"))?" selected":""}>مسودة</option></select><select class="filter-select" data-v-2f472b55><option value="" data-v-2f472b55${p(Array.isArray(r(A))?u(r(A),""):b(r(A),""))?" selected":""}>جميع الفئات</option><option value="domestic" data-v-2f472b55${p(Array.isArray(r(A))?u(r(A),"domestic"):b(r(A),"domestic"))?" selected":""}>رحلات داخلية</option><option value="international" data-v-2f472b55${p(Array.isArray(r(A))?u(r(A),"international"):b(r(A),"international"))?" selected":""}>رحلات خارجية</option><option value="umrah" data-v-2f472b55${p(Array.isArray(r(A))?u(r(A),"umrah"):b(r(A),"umrah"))?" selected":""}>عمرة</option><option value="hajj" data-v-2f472b55${p(Array.isArray(r(A))?u(r(A),"hajj"):b(r(A),"hajj"))?" selected":""}>حج</option></select></div></div></div><div class="packages-grid" data-v-2f472b55>`),r(o)?e('<div class="loading-state" data-v-2f472b55><div class="loading-spinner" data-v-2f472b55></div><p data-v-2f472b55>جاري تحميل الباقات...</p></div>'):0===r(_).length?(e('<div class="empty-state" data-v-2f472b55>'),e(v(l,{name:"lucide:package",class:"empty-icon"},null,s)),e('<h3 data-v-2f472b55>لا توجد باقات</h3><p data-v-2f472b55>لم يتم العثور على أي باقات تطابق معايير البحث</p><button class="create-first-btn" data-v-2f472b55> إضافة أول باقة </button></div>')):(e('<div class="packages-list" data-v-2f472b55>\x3c!--[--\x3e'),f(r(_),(a=>{e(`<div class="package-card" data-v-2f472b55><div class="package-image" data-v-2f472b55><img${n("src",a.image_url||"/images/placeholder-package.jpg")}${n("alt",a.title)} class="package-img" data-v-2f472b55><div class="${m([a.status,"package-status"])}" data-v-2f472b55>${y((a=>({active:"نشط",inactive:"غير نشط",draft:"مسودة"}[a]||a))(a.status))}</div></div><div class="package-content" data-v-2f472b55><div class="package-header" data-v-2f472b55><h3 class="package-title" data-v-2f472b55>${y(a.title)}</h3><div class="package-actions" data-v-2f472b55><button class="action-btn edit" data-v-2f472b55>`),e(v(l,{name:"lucide:edit",class:"action-icon"},null,s)),e('</button><button class="action-btn delete" data-v-2f472b55>'),e(v(l,{name:"lucide:trash-2",class:"action-icon"},null,s)),e(`</button></div></div><p class="package-description" data-v-2f472b55>${y(a.description)}</p><div class="package-details" data-v-2f472b55><div class="detail-item" data-v-2f472b55>`),e(v(l,{name:"lucide:map-pin",class:"detail-icon"},null,s)),e(`<span data-v-2f472b55>${y(a.destination)}</span></div><div class="detail-item" data-v-2f472b55>`),e(v(l,{name:"lucide:calendar",class:"detail-icon"},null,s)),e(`<span data-v-2f472b55>${y(a.duration)} أيام</span></div><div class="detail-item" data-v-2f472b55>`),e(v(l,{name:"lucide:users",class:"detail-icon"},null,s)),e(`<span data-v-2f472b55>${y(a.max_participants)} أشخاص</span></div></div><div class="package-footer" data-v-2f472b55><div class="package-price" data-v-2f472b55><span class="price-label" data-v-2f472b55>السعر:</span><span class="price-value" data-v-2f472b55>${y((a=>new Intl.NumberFormat("ar-SA",{style:"currency",currency:"SAR"}).format(a))(a.price))}</span></div><div class="package-meta" data-v-2f472b55><span class="created-date" data-v-2f472b55>${y((a=>new Date(a).toLocaleDateString("ar-SA"))(a.created_at))}</span></div></div></div></div>`)})),e("\x3c!--]--\x3e</div>")),e("</div>"),r(x)||r(k)?(e(`<div class="modal-overlay" data-v-2f472b55><div class="modal-content" data-v-2f472b55><div class="modal-header" data-v-2f472b55><h2 class="modal-title" data-v-2f472b55>${y(r(k)?"تعديل الباقة":"إضافة باقة جديدة")}</h2><button class="modal-close" data-v-2f472b55>`),e(v(l,{name:"lucide:x",class:"close-icon"},null,s)),e(`</button></div><form class="modal-form" data-v-2f472b55><div class="form-grid" data-v-2f472b55><div class="form-group" data-v-2f472b55><label class="form-label" data-v-2f472b55>عنوان الباقة *</label><input${n("value",r(j).title)} type="text" class="form-input" required data-v-2f472b55></div><div class="form-group" data-v-2f472b55><label class="form-label" data-v-2f472b55>الوجهة *</label><input${n("value",r(j).destination)} type="text" class="form-input" required data-v-2f472b55></div><div class="form-group" data-v-2f472b55><label class="form-label" data-v-2f472b55>السعر *</label><input${n("value",r(j).price)} type="number" class="form-input" required data-v-2f472b55></div><div class="form-group" data-v-2f472b55><label class="form-label" data-v-2f472b55>المدة (أيام) *</label><input${n("value",r(j).duration)} type="number" class="form-input" required data-v-2f472b55></div><div class="form-group" data-v-2f472b55><label class="form-label" data-v-2f472b55>الحد الأقصى للمشاركين</label><input${n("value",r(j).max_participants)} type="number" class="form-input" data-v-2f472b55></div><div class="form-group" data-v-2f472b55><label class="form-label" data-v-2f472b55>الفئة</label><select class="form-select" data-v-2f472b55><option value="domestic" data-v-2f472b55${p(Array.isArray(r(j).category)?u(r(j).category,"domestic"):b(r(j).category,"domestic"))?" selected":""}>رحلات داخلية</option><option value="international" data-v-2f472b55${p(Array.isArray(r(j).category)?u(r(j).category,"international"):b(r(j).category,"international"))?" selected":""}>رحلات خارجية</option><option value="umrah" data-v-2f472b55${p(Array.isArray(r(j).category)?u(r(j).category,"umrah"):b(r(j).category,"umrah"))?" selected":""}>عمرة</option><option value="hajj" data-v-2f472b55${p(Array.isArray(r(j).category)?u(r(j).category,"hajj"):b(r(j).category,"hajj"))?" selected":""}>حج</option></select></div><div class="form-group full-width" data-v-2f472b55><label class="form-label" data-v-2f472b55>الوصف</label><textarea class="form-textarea" rows="4" data-v-2f472b55>${y(r(j).description)}</textarea></div><div class="form-group" data-v-2f472b55><label class="form-label" data-v-2f472b55>رابط الصورة</label><input${n("value",r(j).image_url)} type="url" class="form-input" data-v-2f472b55></div><div class="form-group" data-v-2f472b55><label class="form-label" data-v-2f472b55>الحالة</label><select class="form-select" data-v-2f472b55><option value="active" data-v-2f472b55${p(Array.isArray(r(j).status)?u(r(j).status,"active"):b(r(j).status,"active"))?" selected":""}>نشط</option><option value="inactive" data-v-2f472b55${p(Array.isArray(r(j).status)?u(r(j).status,"inactive"):b(r(j).status,"inactive"))?" selected":""}>غير نشط</option><option value="draft" data-v-2f472b55${p(Array.isArray(r(j).status)?u(r(j).status,"draft"):b(r(j).status,"draft"))?" selected":""}>مسودة</option></select></div></div><div class="modal-actions" data-v-2f472b55><button type="button" class="btn-secondary" data-v-2f472b55> إلغاء </button><button type="submit" class="btn-primary"${p(r(g))?" disabled":""} data-v-2f472b55>`),r(g)?e(v(l,{name:"lucide:loader-2",class:"btn-icon animate-spin"},null,s)):e(v(l,{name:"lucide:save",class:"btn-icon"},null,s)),e(` ${y(r(g)?"جاري الحفظ...":"حفظ")}</button></div></form></div></div>`)):e("\x3c!----\x3e"),e("</div>")}}}),h=g.setup;g.setup=(a,t)=>{const e=o();return(e.modules||(e.modules=new Set)).add("pages/admin/packages/index.vue"),h?h(a,t):void 0};const $=e(g,[["__scopeId","data-v-2f472b55"]]);export{$ as default};
//# sourceMappingURL=index.vue10.mjs.map
