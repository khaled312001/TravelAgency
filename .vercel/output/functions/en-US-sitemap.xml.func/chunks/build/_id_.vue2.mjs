import{M as e}from"./nuxt-link.mjs";import{g as t,q as s,I as r,H as l,u as a}from"./server.mjs";import{defineComponent as i,ref as o,reactive as n,computed as m,resolveComponent as d,mergeProps as c,unref as p,withAsyncContext as u,withCtx as x,createTextVNode as h,toDisplayString as b,useSSRContext as g}from"vue";import{ssrRenderAttrs as v,ssrRenderComponent as f,ssrInterpolate as y,ssrRenderAttr as w,ssrRenderClass as $,ssrIncludeBooleanAttr as _,ssrRenderList as j}from"vue/server-renderer";import{c as k}from"./useDestinations.mjs";import{useRoute as N}from"vue-router";import{m as q}from"./useWhatsApp.mjs";import{G as D}from"./NuxtImg.vue2.mjs";import"../_/nitro.mjs";import"node:http";import"node:https";import"node:events";import"node:buffer";import"@iconify/utils";import"node:crypto";import"consola";import"node:module";import"node:url";import"ipx";import"node:fs";import"node:path";import"@supabase/ssr";import"@iconify/vue";import"../routes/renderer.mjs";import"vue-bundle-renderer/runtime";import"unhead/server";import"unhead/utils";import"devalue";import"unhead/plugins";import"@unhead/schema-org";import"@unhead/schema-org/vue";import"floating-vue";import"@iconify/utils/lib/css/icon";const I=i({__name:"DestinationContactFormModal",__ssrInlineRender:!0,props:{destinationName:{}},emits:["close","submit"],setup(e,{emit:r}){const{t:l}=t();q();const a=e,i=o(!1),u=o(!1),x=o(!1),h=o(""),b=o(!1),g=n({name:"",phone:"",email:"",details:"",destinationName:a.destinationName}),j=n({name:"",phone:"",email:"",details:""}),k=m((()=>Object.entries(j).some((([e,t])=>""!==t))||["name","phone"].some((e=>!g[e]))));return(e,t,r,a)=>{const o=s,n=d("NotificationStatus");t(`<div${v(c({class:"fixed inset-0 z-[100] flex items-center justify-center px-4 bg-black/50 overflow-y-auto py-6"},a))}><div class="relative w-full max-w-2xl bg-white rounded-2xl shadow-xl p-6 md:p-8 max-h-[min(calc(100vh-2rem),42.7rem)] my-6 mt-14 overflow-y-auto scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-gray-100 hover:scrollbar-thumb-gray-400"><button class="absolute top-4 right-4 text-gray-400 hover:text-red-500 transition-colors" type="button">`),t(f(o,{name:"material-symbols:close",class:"w-6 h-6"},null,r)),t(`<span class="sr-only">${y(p(l)("common.close"))}</span></button>`),p(u)?(t('<div class="flex flex-col items-center justify-center py-8"><div class="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mb-4">'),t(f(o,{name:"material-symbols:check",class:"w-10 h-10 text-green-600"},null,r)),t(`</div><h3 class="text-xl font-bold text-gray-900 mb-2">${y(p(l)("home.destinations.destination_form.success_title"))}</h3><p class="text-gray-600 text-center mb-4">${y(p(l)("home.destinations.destination_form.success_message",{name:e.destinationName}))}</p>`),t(f(n,{sent:p(x),error:p(h),failed:p(b)},null,r)),t(`<button class="mt-6 rounded-xl bg-primary px-8 py-3 text-white hover:bg-primary-dark transition-colors">${y(p(l)("common.close"))}</button></div>`)):(t(`\x3c!--[--\x3e<div class="mb-8 mt-4"><h2 class="text-2xl font-bold mb-3 text-gray-900">${y(p(l)("home.destinations.destination_form.title",{name:e.destinationName}))}</h2><p class="text-gray-600">${y(p(l)("home.destinations.destination_form.description",{name:e.destinationName}))}</p><div class="mt-4 p-4 bg-primary/5 rounded-xl text-sm text-gray-600 flex items-start gap-2">`),t(f(o,{name:"material-symbols:schedule",class:"w-5 h-5 text-primary flex-shrink-0 mt-0.5"},null,r)),t(`<p>${y(p(l)("home.destinations.destination_form.response_time"))}</p></div><div class="mt-4 p-4 bg-primary/5 rounded-xl text-sm text-gray-600 flex items-start gap-2">`),t(f(o,{name:"material-symbols:lightbulb-outline",class:"w-5 h-5 text-primary flex-shrink-0 mt-0.5"},null,r)),t(`<p>${y(p(l)("home.destinations.destination_form.custom_package_note"))}</p></div></div><form class="space-y-6"><div><label for="name" class="block text-sm font-medium text-gray-700 mb-1 ltr:text-left rtl:text-right">${y(p(l)("home.destinations.destination_form.name"))}</label><div class="relative">`),t(f(o,{name:"material-symbols:person-outline",class:"absolute ltr:left-4 rtl:right-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"},null,r)),t(`<input id="name"${w("value",p(g).name)} type="text" required class="${$(["w-full px-4 py-3 ltr:pl-12 rtl:pr-12 rounded-xl border focus:ring-2 focus:ring-primary transition-colors",p(j).name?"border-red-500":"border-gray-300 focus:border-primary"])}"${w("placeholder",p(l)("home.destinations.destination_form.name_placeholder"))}></div>`),p(j).name?t(`<p class="mt-1 text-sm text-red-500 ltr:text-left rtl:text-right">${y(p(j).name)}</p>`):t("\x3c!----\x3e"),t(`</div><div><label for="phone" class="block text-sm font-medium text-gray-700 mb-1 ltr:text-left rtl:text-right">${y(p(l)("home.destinations.destination_form.phone"))}</label><div class="relative">`),t(f(o,{name:"material-symbols:call-outline",class:"absolute ltr:left-4 rtl:right-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"},null,r)),t(`<input id="phone"${w("value",p(g).phone)} type="text" required class="${$(["w-full px-4 py-3 ltr:pl-12 rtl:pr-12 rounded-xl border focus:ring-2 focus:ring-primary transition-colors",p(j).phone?"border-red-500":"border-gray-300 focus:border-primary"])}"${w("placeholder",p(l)("home.destinations.destination_form.phone_placeholder"))}></div>`),p(j).phone?t(`<p class="mt-1 text-sm text-red-500 ltr:text-left rtl:text-right">${y(p(j).phone)}</p>`):t("\x3c!----\x3e"),t(`</div><div><label for="email" class="block text-sm font-medium text-gray-700 mb-1 ltr:text-left rtl:text-right">${y(p(l)("home.destinations.destination_form.email"))}</label><div class="relative">`),t(f(o,{name:"material-symbols:mail-outline",class:"absolute ltr:left-4 rtl:right-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"},null,r)),t(`<input id="email"${w("value",p(g).email)} type="text" class="${$(["w-full px-4 py-3 ltr:pl-12 rtl:pr-12 rounded-xl border focus:ring-2 focus:ring-primary transition-colors"])}"${w("placeholder",p(l)("home.destinations.destination_form.email_placeholder"))}></div></div><div><label for="details" class="block text-sm font-medium text-gray-700 mb-1 ltr:text-left rtl:text-right">${y(p(l)("home.destinations.destination_form.request_details"))}</label><div class="relative">`),t(f(o,{name:"material-symbols:chat-outline",class:"absolute ltr:left-4 rtl:right-4 top-3 w-5 h-5 text-gray-400"},null,r)),t(`<textarea id="details" rows="4" class="w-full px-4 py-3 ltr:pl-12 rtl:pr-12 rounded-xl border focus:ring-2 focus:ring-primary transition-colors resize-none"${w("placeholder",p(l)("home.destinations.destination_form.request_details_placeholder"))}>${y(p(g).details)}</textarea></div></div><button type="submit"${_(p(i)||p(k))?" disabled":""} class="${$([{"opacity-70 cursor-not-allowed":p(i)||p(k)},"w-full rounded-xl bg-primary px-6 py-3.5 text-white font-medium hover:bg-primary-dark transition-colors flex items-center justify-center"])}">`),p(i)?t('<span class="w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin mr-2"></span>'):t("\x3c!----\x3e"),t(` ${y(p(l)(p(i)?"common.sending":"home.destinations.destination_form.submit"))}</button></form>\x3c!--]--\x3e`)),t("</div></div>")}}}),S=i({__name:"[id]",__ssrInlineRender:!0,async setup(i){let n,d;const c=N(),{t:g,locale:$}=t(),{getWhatsAppUrl:_}=q(),{getDestinationById:S}=k(),C=o(!1),{data:z,pending:A,error:E}=([n,d]=u((()=>r(`destination-${c.params.id}`,(()=>{const e=S(c.params.id);if(!e)throw a({statusCode:404,message:"Destination not found"});return e})))),n=await n,d(),n),L=m((()=>{var e;return(null==(e=z.value)?void 0:e.name[$.value.slice(0,2)])||""})),W=m((()=>{var e;return(null==(e=z.value)?void 0:e.description[$.value.slice(0,2)])||""}));return l({title:m((()=>z.value?`${z.value.name[$.value.slice(0,2)]} | Wonder Land Agency`:"Loading...")),meta:[{name:"description",content:m((()=>{var e;return(null==(e=z.value)?void 0:e.description[$.value.slice(0,2)])||""}))}]}),(t,r,l,a)=>{var i,o;const n=e,m=D,d=s;r(`<div${v(a)}>`),p(A)?r(`<div class="flex justify-center items-center min-h-screen"><div class="animate-spin rounded-full h-12 w-12 border-4 border-primary border-t-transparent"></div><span class="sr-only">${y(p(g)("common.loading"))}</span></div>`):p(E)?(r(`<div class="min-h-screen flex flex-col items-center justify-center px-4 text-center"><h1 class="text-2xl font-bold text-gray-900 mb-4">${y(p(g)("common.error"))}</h1><p class="text-gray-600 mb-8">${y(p(E).message)}</p>`),r(f(n,{to:"/",class:"rounded-full bg-primary px-6 py-3 text-white hover:bg-primary-dark transition-colors"},{default:x(((e,t,s,r)=>{if(!t)return[h(b(p(g)("common.back_home")),1)];t(`${y(p(g)("common.back_home"))}`)})),_:1},l)),r("</div>")):p(z)?(r('<div class="relative min-h-screen"><div class="relative h-[40vh] md:h-[60vh] w-full">'),r(f(m,{src:p(z).mainImage,class:"h-full w-full object-cover",alt:L.value,loading:"eager",width:"1920",height:"1080",format:"webp",quality:"90"},null,l)),r(`<div class="absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"></div></div><div class="relative z-10 -mt-32 rounded-t-[2.5rem] bg-white px-4 pb-20 pt-12 md:px-8"><div class="mx-auto max-w-6xl"><h1 class="mb-4 text-4xl font-bold text-gray-900">${y(L.value)}</h1><p class="mb-12 text-lg text-gray-600 max-w-3xl">${y(W.value)}</p>`),null!=(i=p(z).touristSpots)&&i.length?(r('<section class="mb-16"><h2 class="text-2xl font-semibold mb-6 text-gray-900 flex items-center gap-2">'),r(f(d,{name:"material-symbols:location-on",class:"h-6 w-6 text-primary"},null,l)),r(` ${y(p(g)("home.destinations.tourist_spots"))}</h2><div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">\x3c!--[--\x3e`),j(p(z).touristSpots,(e=>{var t;r('<div class="bg-white rounded-2xl overflow-hidden shadow-lg hover:shadow-xl transition-all duration-300 border border-gray-100"><div class="relative h-48">'),r(f(m,{src:e.image||(null==(t=p(z).gallery)?void 0:t[0])||p(z).mainImage,alt:e.name[p($).slice(0,2)],class:"w-full h-full object-cover",width:"600",height:"400",format:"webp",quality:"85"},null,l)),r(`</div><div class="p-6"><h3 class="text-xl font-semibold mb-3 text-gray-900">${y(e.name[p($).slice(0,2)])}</h3><p class="text-gray-600">${y(e.description[p($).slice(0,2)])}</p></div></div>`)})),r("\x3c!--]--\x3e</div></section>")):r("\x3c!----\x3e"),null!=(o=p(z).upcomingEvents)&&o.length?(r('<section class="mb-16"><h2 class="text-2xl font-semibold mb-6 text-gray-900 flex items-center gap-2">'),r(f(d,{name:"material-symbols:calendar-month-outline",class:"h-6 w-6 text-primary"},null,l)),r(` ${y(p(g)("home.destinations.upcoming_events"))}</h2><div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">\x3c!--[--\x3e`),j(p(z).upcomingEvents,(e=>{r('<div class="bg-white rounded-2xl overflow-hidden shadow-lg hover:shadow-xl transition-all duration-300 border border-gray-100 p-6">'),e.image?(r('<div class="relative h-40 -mx-6 -mt-6 mb-6">'),r(f(m,{src:e.image,alt:e.title[p($).slice(0,2)],class:"w-full h-full object-cover",width:"400",height:"300",format:"webp",quality:"85"},null,l)),r("</div>")):r("\x3c!----\x3e"),r(`<h3 class="text-xl font-semibold mb-3 text-gray-900">${y(e.title[p($).slice(0,2)])}</h3><p class="text-gray-600 mb-4">${y(e.description[p($).slice(0,2)])}</p><div class="flex items-center text-sm text-gray-500">`),r(f(d,{name:"material-symbols:calendar-month-outline",class:"w-5 h-5 mr-2"},null,l)),r(` ${y(function(e){return new Date(e).toLocaleDateString($.value.slice(0,2),{year:"numeric",month:"long",day:"numeric"})}(e.date))}</div></div>`)})),r("\x3c!--]--\x3e</div></section>")):r("\x3c!----\x3e"),r(`<section class="bg-gradient-to-br from-primary/5 to-primary/10 rounded-2xl p-6 sm:p-8 md:p-12 text-center"><h2 class="text-2xl sm:text-3xl font-semibold mb-3 sm:mb-4 text-gray-900">${y(p(g)("home.destinations.plan_your_trip"))}</h2><p class="text-gray-600 mb-6 sm:mb-8 max-w-2xl mx-auto text-base sm:text-lg">${y(p(g)("home.destinations.contact_description"))}</p><div class="flex flex-col sm:flex-row items-center justify-center gap-4"><button class="w-full sm:w-auto rounded-full bg-primary-500 px-6 sm:px-8 py-4 text-white hover:bg-primary-800 transition-colors text-base sm:text-lg font-medium shadow-lg hover:shadow-xl flex items-center justify-center gap-2 min-h-[44px]">`),r(f(d,{name:"material-symbols:chat",class:"h-5 w-5"},null,l)),r(` ${y(p(g)("home.destinations.cta_button"))}</button>`),C.value?r(f(I,{destinationName:L.value,onClose:e=>C.value=!1},null,l)):r("\x3c!----\x3e"),r(`<a${w("href",p(_)(p(g)("whatsapp.messages.destination_interest",{name:L.value})))} target="_blank" rel="noopener noreferrer" class="w-full sm:w-auto rounded-full bg-[#25D366] px-6 sm:px-8 py-4 text-white hover:bg-[#128C7E] transition-colors text-base sm:text-lg font-medium shadow-lg hover:shadow-xl flex items-center justify-center gap-2 min-h-[44px]">`),r(f(d,{name:"logos:whatsapp-icon",class:"w-5 h-5"},null,l)),r(` ${y(p(g)("buttons.whatsapp"))}</a></div></section></div></div></div>`)):r("\x3c!----\x3e"),r("</div>")}}}),C=S.setup;S.setup=(e,t)=>{const s=g();return(s.modules||(s.modules=new Set)).add("pages/destinations/[id].vue"),C?C(e,t):void 0};export{S as default};
//# sourceMappingURL=_id_.vue2.mjs.map
