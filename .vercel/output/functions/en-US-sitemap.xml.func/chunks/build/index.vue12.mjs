import{H as a,q as e,s as t}from"./server.mjs";import{defineComponent as s,ref as i,computed as d,mergeProps as l,unref as v,useSSRContext as n}from"vue";import{ssrRenderAttrs as o,ssrRenderComponent as c,ssrInterpolate as r,ssrRenderAttr as b,ssrIncludeBooleanAttr as u,ssrLooseContain as p,ssrLooseEqual as m,ssrRenderList as f,ssrRenderClass as y}from"vue/server-renderer";import"../_/nitro.mjs";import"node:http";import"node:https";import"node:events";import"node:buffer";import"@iconify/utils";import"node:crypto";import"consola";import"node:module";import"node:url";import"ipx";import"node:fs";import"node:path";import"vue-router";import"@supabase/ssr";import"@iconify/vue";import"../routes/renderer.mjs";import"vue-bundle-renderer/runtime";import"unhead/server";import"unhead/utils";import"devalue";import"unhead/plugins";import"@unhead/schema-org";import"@unhead/schema-org/vue";import"floating-vue";import"@iconify/utils/lib/css/icon";const g=s({__name:"index",__ssrInlineRender:!0,setup(t){const s=i([]),n=i(!0),g=i(!1),h=i(""),$=i(""),_=i(""),A=i(""),x=i(!1),w=i(!1);i(null);const k=i({name:"",description:"",country:"",type:"domestic",best_time_to_visit:"",status:"active",is_featured:!1,image_url:""}),L=d((()=>{let a=s.value;return h.value&&(a=a.filter((a=>a.name.toLowerCase().includes(h.value.toLowerCase())||a.country.toLowerCase().includes(h.value.toLowerCase())))),$.value&&(a=a.filter((a=>a.status===$.value))),_.value&&(a=a.filter((a=>a.type===_.value))),A.value&&("featured"===A.value?a=a.filter((a=>a.is_featured)):"regular"===A.value&&(a=a.filter((a=>!a.is_featured)))),a})),j=d((()=>s.value.filter((a=>"active"===a.status)).length)),C=d((()=>s.value.filter((a=>a.is_featured)).length)),q=d((()=>s.value.filter((a=>(a.packages_count||0)>0)).length));return a({title:"إدارة الوجهات - لوحة التحكم"}),(a,t,i,d)=>{const S=e;t(`<div${o(l({class:"destinations-page space-y-4"},d))} data-v-285b690e><div class="page-header" data-v-285b690e><div class="header-content" data-v-285b690e><div class="header-left" data-v-285b690e><h1 class="page-title" data-v-285b690e>إدارة الوجهات</h1><p class="page-subtitle" data-v-285b690e>إدارة جميع الوجهات السياحية المتاحة</p></div><div class="header-right" data-v-285b690e><button class="create-btn" data-v-285b690e>`),t(c(S,{name:"lucide:plus",class:"btn-icon"},null,i)),t(' إضافة وجهة جديدة </button></div></div></div><div class="stats-grid" data-v-285b690e><div class="stat-card" data-v-285b690e><div class="stat-icon" data-v-285b690e>'),t(c(S,{name:"lucide:map-pin",class:"icon"},null,i)),t(`</div><div class="stat-content" data-v-285b690e><p class="stat-value" data-v-285b690e>${r(v(s).length)}</p><p class="stat-label" data-v-285b690e>إجمالي الوجهات</p></div></div><div class="stat-card" data-v-285b690e><div class="stat-icon" data-v-285b690e>`),t(c(S,{name:"lucide:globe",class:"icon"},null,i)),t(`</div><div class="stat-content" data-v-285b690e><p class="stat-value" data-v-285b690e>${r(v(j))}</p><p class="stat-label" data-v-285b690e>الوجهات النشطة</p></div></div><div class="stat-card" data-v-285b690e><div class="stat-icon" data-v-285b690e>`),t(c(S,{name:"lucide:star",class:"icon"},null,i)),t(`</div><div class="stat-content" data-v-285b690e><p class="stat-value" data-v-285b690e>${r(v(C))}</p><p class="stat-label" data-v-285b690e>الوجهات المميزة</p></div></div><div class="stat-card" data-v-285b690e><div class="stat-icon" data-v-285b690e>`),t(c(S,{name:"lucide:trending-up",class:"icon"},null,i)),t(`</div><div class="stat-content" data-v-285b690e><p class="stat-value" data-v-285b690e>${r(v(q))}</p><p class="stat-label" data-v-285b690e>الأكثر شعبية</p></div></div></div><div class="filters-section" data-v-285b690e><div class="filters-container" data-v-285b690e><div class="search-box" data-v-285b690e>`),t(c(S,{name:"lucide:search",class:"search-icon"},null,i)),t(`<input${b("value",v(h))} type="text" placeholder="البحث في الوجهات..." class="search-input" data-v-285b690e></div><div class="filter-controls" data-v-285b690e><select class="filter-select" data-v-285b690e><option value="" data-v-285b690e${u(Array.isArray(v($))?p(v($),""):m(v($),""))?" selected":""}>جميع الحالات</option><option value="active" data-v-285b690e${u(Array.isArray(v($))?p(v($),"active"):m(v($),"active"))?" selected":""}>نشط</option><option value="inactive" data-v-285b690e${u(Array.isArray(v($))?p(v($),"inactive"):m(v($),"inactive"))?" selected":""}>غير نشط</option></select><select class="filter-select" data-v-285b690e><option value="" data-v-285b690e${u(Array.isArray(v(_))?p(v(_),""):m(v(_),""))?" selected":""}>جميع الأنواع</option><option value="domestic" data-v-285b690e${u(Array.isArray(v(_))?p(v(_),"domestic"):m(v(_),"domestic"))?" selected":""}>محلية</option><option value="international" data-v-285b690e${u(Array.isArray(v(_))?p(v(_),"international"):m(v(_),"international"))?" selected":""}>دولية</option></select><select class="filter-select" data-v-285b690e><option value="" data-v-285b690e${u(Array.isArray(v(A))?p(v(A),""):m(v(A),""))?" selected":""}>جميع الوجهات</option><option value="featured" data-v-285b690e${u(Array.isArray(v(A))?p(v(A),"featured"):m(v(A),"featured"))?" selected":""}>مميزة</option><option value="regular" data-v-285b690e${u(Array.isArray(v(A))?p(v(A),"regular"):m(v(A),"regular"))?" selected":""}>عادية</option></select></div></div></div><div class="destinations-grid" data-v-285b690e>`),v(n)?t('<div class="loading-state" data-v-285b690e><div class="loading-spinner" data-v-285b690e></div><p data-v-285b690e>جاري تحميل الوجهات...</p></div>'):0===v(L).length?(t('<div class="empty-state" data-v-285b690e>'),t(c(S,{name:"lucide:map-pin",class:"empty-icon"},null,i)),t('<h3 data-v-285b690e>لا توجد وجهات</h3><p data-v-285b690e>لم يتم العثور على أي وجهات تطابق معايير البحث</p><button class="create-first-btn" data-v-285b690e> إضافة أول وجهة </button></div>')):(t('<div class="destinations-list" data-v-285b690e>\x3c!--[--\x3e'),f(v(L),(a=>{t(`<div class="destination-card" data-v-285b690e><div class="destination-image" data-v-285b690e><img${b("src",a.image_url||"/images/placeholder-destination.jpg")}${b("alt",a.name)} class="destination-img" data-v-285b690e><div class="destination-badges" data-v-285b690e>`),a.is_featured?(t('<div class="badge featured" data-v-285b690e>'),t(c(S,{name:"lucide:star",class:"badge-icon"},null,i)),t(" مميز </div>")):t("\x3c!----\x3e"),t(`<div class="${y([a.status,"badge status"])}" data-v-285b690e>${r((a=>({active:"نشط",inactive:"غير نشط"}[a]||a))(a.status))}</div></div></div><div class="destination-content" data-v-285b690e><div class="destination-header" data-v-285b690e><h3 class="destination-name" data-v-285b690e>${r(a.name)}</h3><div class="destination-actions" data-v-285b690e><button class="action-btn edit" data-v-285b690e>`),t(c(S,{name:"lucide:edit",class:"action-icon"},null,i)),t('</button><button class="action-btn delete" data-v-285b690e>'),t(c(S,{name:"lucide:trash-2",class:"action-icon"},null,i)),t(`</button></div></div><p class="destination-description" data-v-285b690e>${r(a.description)}</p><div class="destination-details" data-v-285b690e><div class="detail-item" data-v-285b690e>`),t(c(S,{name:"lucide:map-pin",class:"detail-icon"},null,i)),t(`<span data-v-285b690e>${r(a.country)}</span></div><div class="detail-item" data-v-285b690e>`),t(c(S,{name:"lucide:globe",class:"detail-icon"},null,i)),t(`<span data-v-285b690e>${r((a=>({domestic:"محلية",international:"دولية"}[a]||a))(a.type))}</span></div><div class="detail-item" data-v-285b690e>`),t(c(S,{name:"lucide:calendar",class:"detail-icon"},null,i)),t(`<span data-v-285b690e>أفضل وقت: ${r(a.best_time_to_visit)}</span></div></div><div class="destination-footer" data-v-285b690e><div class="destination-meta" data-v-285b690e><span class="created-date" data-v-285b690e>${r((a=>new Date(a).toLocaleDateString("ar-SA"))(a.created_at))}</span><span class="packages-count" data-v-285b690e>${r(a.packages_count||0)} باقة </span></div></div></div></div>`)})),t("\x3c!--]--\x3e</div>")),t("</div>"),v(x)||v(w)?(t(`<div class="modal-overlay" data-v-285b690e><div class="modal-content" data-v-285b690e><div class="modal-header" data-v-285b690e><h2 class="modal-title" data-v-285b690e>${r(v(w)?"تعديل الوجهة":"إضافة وجهة جديدة")}</h2><button class="modal-close" data-v-285b690e>`),t(c(S,{name:"lucide:x",class:"close-icon"},null,i)),t(`</button></div><form class="modal-form" data-v-285b690e><div class="form-grid" data-v-285b690e><div class="form-group" data-v-285b690e><label class="form-label" data-v-285b690e>اسم الوجهة *</label><input${b("value",v(k).name)} type="text" class="form-input" required data-v-285b690e></div><div class="form-group" data-v-285b690e><label class="form-label" data-v-285b690e>البلد *</label><input${b("value",v(k).country)} type="text" class="form-input" required data-v-285b690e></div><div class="form-group" data-v-285b690e><label class="form-label" data-v-285b690e>النوع *</label><select class="form-select" required data-v-285b690e><option value="domestic" data-v-285b690e${u(Array.isArray(v(k).type)?p(v(k).type,"domestic"):m(v(k).type,"domestic"))?" selected":""}>محلية</option><option value="international" data-v-285b690e${u(Array.isArray(v(k).type)?p(v(k).type,"international"):m(v(k).type,"international"))?" selected":""}>دولية</option></select></div><div class="form-group" data-v-285b690e><label class="form-label" data-v-285b690e>أفضل وقت للزيارة</label><input${b("value",v(k).best_time_to_visit)} type="text" class="form-input" placeholder="مثال: مارس - مايو" data-v-285b690e></div><div class="form-group" data-v-285b690e><label class="form-label" data-v-285b690e>رابط الصورة</label><input${b("value",v(k).image_url)} type="url" class="form-input" data-v-285b690e></div><div class="form-group" data-v-285b690e><label class="form-label" data-v-285b690e>الحالة</label><select class="form-select" data-v-285b690e><option value="active" data-v-285b690e${u(Array.isArray(v(k).status)?p(v(k).status,"active"):m(v(k).status,"active"))?" selected":""}>نشط</option><option value="inactive" data-v-285b690e${u(Array.isArray(v(k).status)?p(v(k).status,"inactive"):m(v(k).status,"inactive"))?" selected":""}>غير نشط</option></select></div><div class="form-group full-width" data-v-285b690e><label class="form-label" data-v-285b690e>الوصف</label><textarea class="form-textarea" rows="4" data-v-285b690e>${r(v(k).description)}</textarea></div><div class="form-group" data-v-285b690e><label class="form-label flex items-center space-x-2 space-x-reverse" data-v-285b690e><input${u(Array.isArray(v(k).is_featured)?p(v(k).is_featured,null):v(k).is_featured)?" checked":""} type="checkbox" class="form-checkbox" data-v-285b690e><span data-v-285b690e>وجهة مميزة</span></label></div></div><div class="modal-actions" data-v-285b690e><button type="button" class="btn-secondary" data-v-285b690e> إلغاء </button><button type="submit" class="btn-primary"${u(v(g))?" disabled":""} data-v-285b690e>`),v(g)?t(c(S,{name:"lucide:loader-2",class:"btn-icon animate-spin"},null,i)):t(c(S,{name:"lucide:save",class:"btn-icon"},null,i)),t(` ${r(v(g)?"جاري الحفظ...":"حفظ")}</button></div></form></div></div>`)):t("\x3c!----\x3e"),t("</div>")}}}),h=g.setup;g.setup=(a,e)=>{const t=n();return(t.modules||(t.modules=new Set)).add("pages/admin/destinations/index.vue"),h?h(a,e):void 0};const $=t(g,[["__scopeId","data-v-285b690e"]]);export{$ as default};
//# sourceMappingURL=index.vue12.mjs.map
