import{H as e,q as t}from"./server.mjs";import{M as s}from"./nuxt-link.mjs";import{ref as a,readonly as r,defineComponent as i,mergeProps as o,unref as n,withCtx as c,createVNode as m,useSSRContext as g}from"vue";import{ssrRenderAttrs as x,ssrInterpolate as v,ssrRenderComponent as h,ssrRenderList as b,ssrRenderStyle as y,ssrRenderAttr as w}from"vue/server-renderer";import{g as $}from"./useAdminAuth.mjs";import"../_/nitro.mjs";import"node:http";import"node:https";import"node:events";import"node:buffer";import"@iconify/utils";import"node:crypto";import"consola";import"node:module";import"node:url";import"ipx";import"node:fs";import"node:path";import"vue-router";import"@supabase/ssr";import"@iconify/vue";import"../routes/renderer.mjs";import"vue-bundle-renderer/runtime";import"unhead/server";import"unhead/utils";import"devalue";import"unhead/plugins";import"@unhead/schema-org";import"@unhead/schema-org/vue";import"floating-vue";import"@iconify/utils/lib/css/icon";const j=i({__name:"index",__ssrInlineRender:!0,setup(i){const{stats:g,bookingDistribution:j,monthlySales:k,popularPackages:_,recentActivities:S}=(()=>{const e=a(null),t=a([]),s=a([]),i=a([]),o=a([]),n=a(!1),{getAuthHeaders:c}=$(),d=async()=>{try{const t=await $fetch("/api/admin/dashboard/stats",{headers:c()});e.value=t}catch(e){throw console.error("Error fetching dashboard stats:",e),e}},l=async()=>{try{const e=await $fetch("/api/admin/dashboard/charts",{headers:c()});t.value=e.bookingDistribution,s.value=e.monthlySales}catch(e){throw console.error("Error fetching chart data:",e),e}},u=async()=>{try{const e=await $fetch("/api/admin/dashboard/popular-packages",{headers:c()});i.value=e}catch(e){throw console.error("Error fetching popular packages:",e),e}},f=async()=>{try{const e=await $fetch("/api/admin/dashboard/recent-activities",{headers:c()});o.value=e}catch(e){throw console.error("Error fetching recent activities:",e),e}};return{stats:r(e),bookingDistribution:r(t),monthlySales:r(s),popularPackages:r(i),recentActivities:r(o),isLoading:r(n),fetchStats:d,fetchCharts:l,fetchPopularPackages:u,fetchRecentActivities:f,fetchDashboardData:async()=>{n.value=!0;try{await Promise.all([d(),l(),u(),f()])}catch(e){throw console.error("Error fetching dashboard data:",e),e}finally{n.value=!1}}}})();_.value=[{id:"1",title:"رحلة إلى دبي",price:2500,views:150,image_url:"/images/packages/home/package-1.jpeg"},{id:"2",title:"عمرة رمضان",price:1800,views:120,image_url:"/images/packages/home/package-1.jpeg"}],S.value=[{id:"1",action:"create_package",description:"تم إنشاء حزمة جديدة",timestamp:"2024-01-31T13:52:00Z",type:"package"},{id:"2",action:"new_message",description:"رسالة جديدة من العميل",timestamp:"2024-01-31T12:52:00Z",type:"message"}];const p=e=>new Intl.NumberFormat("ar-SA",{style:"currency",currency:"SAR",minimumFractionDigits:0}).format(e);return e({title:"لوحة التحكم - Wonder Land"}),(e,a,r,i)=>{var $,A,E,D,P;const O=t,T=s;a(`<div${x(o({class:"space-y-4"},i))}><div class="bg-gradient-to-r from-gray-100 to-gray-200 rounded-2xl p-8"><h1 class="text-3xl font-bold text-gray-900 mb-2"> مرحباً بك في لوحة التحكم </h1><p class="text-gray-600 text-lg"> إدارة شاملة لموقع Wonder Land Traveling Agency </p></div><div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6"><div class="bg-white rounded-xl p-6 shadow-sm border border-gray-200"><div class="flex items-center justify-between"><div><p class="text-sm font-medium text-gray-600">المستخدمين</p><p class="text-2xl font-bold text-gray-900">${v((null==($=n(g))?void 0:$.totalUsers)||0)}</p></div><div class="w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center">`),a(h(O,{name:"lucide:users",class:"w-6 h-6 text-blue-600"},null,r)),a(`</div></div></div><div class="bg-white rounded-xl p-6 shadow-sm border border-gray-200"><div class="flex items-center justify-between"><div><p class="text-sm font-medium text-gray-600">رسائل جديدة</p><p class="text-2xl font-bold text-gray-900">${v((null==(A=n(g))?void 0:A.newMessages)||0)}</p></div><div class="w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center">`),a(h(O,{name:"lucide:mail",class:"w-6 h-6 text-green-600"},null,r)),a(`</div></div></div><div class="bg-white rounded-xl p-6 shadow-sm border border-gray-200"><div class="flex items-center justify-between"><div><p class="text-sm font-medium text-gray-600">إجمالي الوجهات</p><p class="text-2xl font-bold text-gray-900">${v((null==(E=n(g))?void 0:E.totalDestinations)||0)}</p></div><div class="w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center">`),a(h(O,{name:"lucide:map-pin",class:"w-6 h-6 text-purple-600"},null,r)),a(`</div></div></div><div class="bg-white rounded-xl p-6 shadow-sm border border-gray-200"><div class="flex items-center justify-between"><div><p class="text-sm font-medium text-gray-600">إجمالي الباقات</p><p class="text-2xl font-bold text-gray-900">${v((null==(D=n(g))?void 0:D.totalPackages)||0)}</p></div><div class="w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center">`),a(h(O,{name:"lucide:package",class:"w-6 h-6 text-orange-600"},null,r)),a(`</div></div></div><div class="bg-white rounded-xl p-6 shadow-sm border border-gray-200"><div class="flex items-center justify-between"><div><p class="text-sm font-medium text-gray-600">إجمالي الحجوزات</p><p class="text-2xl font-bold text-gray-900">${v((null==(P=n(g))?void 0:P.totalBookings)||0)}</p></div><div class="w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center">`),a(h(O,{name:"lucide:calendar",class:"w-6 h-6 text-red-600"},null,r)),a('</div></div></div></div><div class="grid grid-cols-1 lg:grid-cols-2 gap-6"><div class="bg-white rounded-xl p-6 shadow-sm border border-gray-200"><h3 class="text-lg font-semibold text-gray-900 mb-2">توزيع الحجوزات</h3><p class="text-sm text-gray-600 mb-6">حسب النوع</p><div class="space-y-4">\x3c!--[--\x3e'),b(n(j),(e=>{a(`<div class="flex items-center justify-between"><div class="flex items-center"><div class="w-4 h-4 rounded-full ml-3" style="${y({backgroundColor:e.color})}"></div><span class="text-sm text-gray-700">${v(e.type)}</span></div><div class="text-right"><p class="text-sm font-medium text-gray-900">${v(e.count)}</p><p class="text-xs text-gray-500">${v(e.percentage)}%</p></div></div>`)})),a('\x3c!--]--\x3e</div></div><div class="bg-white rounded-xl p-6 shadow-sm border border-gray-200"><h3 class="text-lg font-semibold text-gray-900 mb-2">المبيعات الشهرية</h3><p class="text-sm text-gray-600 mb-6">آخر 6 أشهر</p><div class="space-y-4">\x3c!--[--\x3e'),b(n(k),(e=>{a(`<div class="flex items-center justify-between"><span class="text-sm text-gray-700">${v(e.month)}</span><div class="flex items-center space-x-4 space-x-reverse"><div class="w-32 bg-gray-200 rounded-full h-2"><div class="bg-gradient-to-r from-pink-500 to-purple-600 h-2 rounded-full transition-all duration-500" style="${y({width:e.amount/7e4*100+"%"})}"></div></div><span class="text-sm font-medium text-gray-900 w-20 text-left">${v(p(e.amount))}</span></div></div>`)})),a(`\x3c!--]--\x3e</div></div></div><div class="grid grid-cols-1 lg:grid-cols-3 gap-6"><div class="bg-white rounded-xl p-6 shadow-sm border border-gray-200"><h3 class="text-lg font-semibold text-gray-900 mb-4">إحصائيات SEO</h3><div class="space-y-4"><div><div class="flex items-center justify-between mb-2"><span class="text-sm text-gray-600">معدل الأداء</span><span class="text-sm font-medium text-gray-900">87%</span></div><div class="w-full bg-gray-200 rounded-full h-2"><div class="bg-green-500 h-2 rounded-full" style="${y({width:"87%"})}"></div></div></div><div><span class="text-sm text-gray-600">صفحات مفهرسة</span><p class="text-lg font-semibold text-gray-900">45</p></div><div class="bg-red-50 border border-red-200 rounded-lg p-3"><div class="flex items-start">`),a(h(O,{name:"lucide:alert-triangle",class:"w-5 h-5 text-red-500 ml-2 mt-0.5"},null,r)),a('<div><p class="text-sm font-medium text-red-800">3 مشكلة SEO تحتاج انتباه</p><p class="text-xs text-red-600 mt-1">راجع صفحة إدارة SEO لحل هذه المشاكل</p></div></div></div><div class="space-y-2"><h4 class="text-sm font-medium text-gray-900">توصيات سريعة</h4><div class="space-y-2"><div class="flex items-center text-sm text-gray-700">'),a(h(O,{name:"lucide:check",class:"w-4 h-4 text-green-500 ml-2"},null,r)),a(' أضف كود Google Analytics لتتبع الزوار </div><div class="flex items-center text-sm text-gray-700">'),a(h(O,{name:"lucide:check",class:"w-4 h-4 text-green-500 ml-2"},null,r)),a(' أضف كود Google Search Console لتحسين الفهرسة </div></div></div></div></div><div class="bg-white rounded-xl p-6 shadow-sm border border-gray-200"><h3 class="text-lg font-semibold text-gray-900 mb-4">الباقات الأكثر شعبية</h3><div class="space-y-4">\x3c!--[--\x3e'),b(n(_),(e=>{a(`<div class="flex items-center space-x-4 space-x-reverse"><div class="w-12 h-12 bg-gray-200 rounded-lg flex-shrink-0"><img${w("src",e.image_url)}${w("alt",e.title)} class="w-full h-full object-cover rounded-lg"></div><div class="flex-1"><h4 class="text-sm font-medium text-gray-900">${v(e.title)}</h4><p class="text-sm text-gray-600">${v(p(e.price))}</p><p class="text-xs text-gray-500">${v(e.views)} مشاهدة</p></div></div>`)})),a('\x3c!--]--\x3e</div></div><div class="bg-white rounded-xl p-6 shadow-sm border border-gray-200"><h3 class="text-lg font-semibold text-gray-900 mb-4">الأنشطة الحديثة</h3><div class="space-y-4">\x3c!--[--\x3e'),b(n(S),(e=>{a(`<div class="flex items-start space-x-3 space-x-reverse"><div class="w-2 h-2 bg-blue-500 rounded-full mt-2 flex-shrink-0"></div><div class="flex-1"><p class="text-sm text-gray-900">${v(e.description)}</p><p class="text-xs text-gray-500 mt-1">${v((e=>new Intl.DateTimeFormat("ar-SA",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(new Date(e)))(e.timestamp))}</p></div></div>`)})),a('\x3c!--]--\x3e</div></div></div><div class="grid grid-cols-2 md:grid-cols-5 gap-4">'),a(h(T,{to:"/admin/destinations/new",class:"bg-white rounded-xl p-6 shadow-sm border border-gray-200 hover:shadow-md transition-shadow text-center"},{default:c(((e,t,s,a)=>{if(!t)return[m("div",{class:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center mx-auto mb-3"},[m(O,{name:"lucide:plus",class:"w-6 h-6 text-blue-600"})]),m("p",{class:"text-sm font-medium text-gray-900"},"إضافة وجهة")];t(`<div class="w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center mx-auto mb-3"${a}>`),t(h(O,{name:"lucide:plus",class:"w-6 h-6 text-blue-600"},null,s,a)),t(`</div><p class="text-sm font-medium text-gray-900"${a}>إضافة وجهة</p>`)})),_:1},r)),a(h(T,{to:"/admin/packages/new",class:"bg-white rounded-xl p-6 shadow-sm border border-gray-200 hover:shadow-md transition-shadow text-center"},{default:c(((e,t,s,a)=>{if(!t)return[m("div",{class:"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center mx-auto mb-3"},[m(O,{name:"lucide:plus",class:"w-6 h-6 text-orange-600"})]),m("p",{class:"text-sm font-medium text-gray-900"},"إضافة باقة")];t(`<div class="w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center mx-auto mb-3"${a}>`),t(h(O,{name:"lucide:plus",class:"w-6 h-6 text-orange-600"},null,s,a)),t(`</div><p class="text-sm font-medium text-gray-900"${a}>إضافة باقة</p>`)})),_:1},r)),a(h(T,{to:"/admin/messages",class:"bg-white rounded-xl p-6 shadow-sm border border-gray-200 hover:shadow-md transition-shadow text-center"},{default:c(((e,t,s,a)=>{if(!t)return[m("div",{class:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center mx-auto mb-3"},[m(O,{name:"lucide:mail",class:"w-6 h-6 text-green-600"})]),m("p",{class:"text-sm font-medium text-gray-900"},"عرض الرسائل")];t(`<div class="w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center mx-auto mb-3"${a}>`),t(h(O,{name:"lucide:mail",class:"w-6 h-6 text-green-600"},null,s,a)),t(`</div><p class="text-sm font-medium text-gray-900"${a}>عرض الرسائل</p>`)})),_:1},r)),a(h(T,{to:"/admin/seo",class:"bg-white rounded-xl p-6 shadow-sm border border-gray-200 hover:shadow-md transition-shadow text-center"},{default:c(((e,t,s,a)=>{if(!t)return[m("div",{class:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mx-auto mb-3"},[m(O,{name:"lucide:search",class:"w-6 h-6 text-purple-600"})]),m("p",{class:"text-sm font-medium text-gray-900"},"إدارة SEO")];t(`<div class="w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mx-auto mb-3"${a}>`),t(h(O,{name:"lucide:search",class:"w-6 h-6 text-purple-600"},null,s,a)),t(`</div><p class="text-sm font-medium text-gray-900"${a}>إدارة SEO</p>`)})),_:1},r)),a(h(T,{to:"/admin/settings",class:"bg-white rounded-xl p-6 shadow-sm border border-gray-200 hover:shadow-md transition-shadow text-center"},{default:c(((e,t,s,a)=>{if(!t)return[m("div",{class:"w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center mx-auto mb-3"},[m(O,{name:"lucide:settings",class:"w-6 h-6 text-gray-600"})]),m("p",{class:"text-sm font-medium text-gray-900"},"الإعدادات")];t(`<div class="w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center mx-auto mb-3"${a}>`),t(h(O,{name:"lucide:settings",class:"w-6 h-6 text-gray-600"},null,s,a)),t(`</div><p class="text-sm font-medium text-gray-900"${a}>الإعدادات</p>`)})),_:1},r)),a("</div></div>")}}}),k=j.setup;j.setup=(e,t)=>{const s=g();return(s.modules||(s.modules=new Set)).add("pages/admin/index.vue"),k?k(e,t):void 0};export{j as default};
//# sourceMappingURL=index.vue2.mjs.map
