# ุฅุตูุงุญ ูุดุงูู ูููุฐุฌ ุงูุชูุงุตู - ุฏููู ุดุงูู

## ๐จ ุงููุดุงูู ุงูููุชุดูุฉ

### 1. ุฎุทุฃ 500 ูู API ุงูุชูุงุตู
- **ุงููุดููุฉ**: `POST /api/contact` ูุนุทู ุฎุทุฃ 500
- **ุงูุณุจุจ**: ุฌุฏูู `contact_messages` ุบูุฑ ููุฌูุฏ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช

### 2. ุฎุทุฃ 500 ูู API ุฑุณุงุฆู ุงูุชูุงุตู
- **ุงููุดููุฉ**: `GET /api/admin/contact-messages` ูุนุทู ุฎุทุฃ 500
- **ุงูุณุจุจ**: ููุณ ุงููุดููุฉ - ุงูุฌุฏูู ุบูุฑ ููุฌูุฏ

## โ ุงูุญููู ุงููุทุจูุฉ

### 1. ุฅูุดุงุก ุฌุฏูู contact_messages
ุชู ุฅูุดุงุก ููู SQL ุดุงูู ูุฅูุดุงุก ุงูุฌุฏูู:
- `create-contact-messages-table.sql`

### 2. ุฅุตูุงุญ ูููุงุช API
ุชู ุชุญุฏูุซ ุงููููุงุช ุงูุชุงููุฉ:
- `server/api/contact.post.ts` - ุฅุถุงูุฉ fallback ููู Supabase client
- `server/api/admin/contact-messages/index.get.ts` - ููุณ ุงูุฅุตูุงุญ

### 3. ุฅุถุงูุฉ ูุนุงูุฌุฉ ุฃุฎุทุงุก ูุญุณูุฉ
- ุฅุถุงูุฉ console.log ููุชุชุจุน
- ูุนุงูุฌุฉ ุฃูุถู ููุฃุฎุทุงุก
- ุฑุณุงุฆู ุฎุทุฃ ูุงุถุญุฉ

## ๐๏ธ ุฎุทูุงุช ุงูุชูููุฐ

### ุงูุฎุทูุฉ 1: ุฅูุดุงุก ุฌุฏูู contact_messages

```sql
-- ุงูุณุฎ ูุญุชูู ููู create-contact-messages-table.sql
-- ูุงูุตูู ูู Supabase SQL Editor
-- ุซู ุงุถุบุท "Run" ูุชูููุฐ ุงูุฃูุฑ
```

### ุงูุฎุทูุฉ 2: ุงูุชุญูู ูู ุงูุฌุฏูู

```sql
-- ุงูุชุญูู ูู ูุฌูุฏ ุงูุฌุฏูู
SELECT * FROM contact_messages LIMIT 5;

-- ุงูุชุญูู ูู ุงูุจูุงูุงุช ุงูุชุฌุฑูุจูุฉ
SELECT name, email, subject, status FROM contact_messages;
```

## ๐ ุงููููุงุช ุงููุญุฏุซุฉ

### 1. ูููุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช
- โ `create-contact-messages-table.sql` - ุฅูุดุงุก ุฌุฏูู contact_messages

### 2. ูููุงุช API
- โ `server/api/contact.post.ts` - ุฅุตูุงุญ API ุงูุชูุงุตู
- โ `server/api/admin/contact-messages/index.get.ts` - ุฅุตูุงุญ API ุงูุฑุณุงุฆู

### 3. ูููุงุช ุฅุถุงููุฉ
- โ `server/api/contact-fixed.post.ts` - ูุณุฎุฉ ุงุญุชูุงุทูุฉ ูุญุณูุฉ

## ๐ง ุงูููุฒุงุช ุงูุฌุฏูุฏุฉ

### 1. ุฌุฏูู contact_messages
- **ุงูุญููู ุงูุฃุณุงุณูุฉ**: name, email, phone, subject, message
- **ุงูุญุงูุฉ**: unread, read, replied, archived
- **ุงูููุน**: inquiry, complaint, suggestion, booking, other
- **ุงูุฑุจุท**: package_id, package_name
- **ุฑุฏูุฏ ุงูุฅุฏุงุฑุฉ**: admin_reply, admin_reply_date

### 2. API ูุญุณู
- **Fallback ููู Supabase**: ุฅุฐุง ูุดู Nuxt moduleุ ูุณุชุฎุฏู client ูุจุงุดุฑ
- **ูุนุงูุฌุฉ ุฃุฎุทุงุก ูุญุณูุฉ**: ุฑุณุงุฆู ุฎุทุฃ ูุงุถุญุฉ ูููุตูุฉ
- **ุชุณุฌูู ููุตู**: console.log ูุชุชุจุน ุงููุดุงูู

### 3. ุจูุงูุงุช ุชุฌุฑูุจูุฉ
- 4 ุฑุณุงุฆู ุชุฌุฑูุจูุฉ ููุงุฎุชุจุงุฑ
- ุญุงูุงุช ูุฎุชููุฉ (unread, read)
- ุฃููุงุน ูุฎุชููุฉ (inquiry, complaint, suggestion, booking)

## ๐งช ุงุฎุชุจุงุฑ ุงููุธุงุฆู

### 1. ุงุฎุชุจุงุฑ ูููุฐุฌ ุงูุชูุงุตู
```javascript
// ุงุฎุชุจุงุฑ ุฅุฑุณุงู ุฑุณุงูุฉ
fetch('/api/contact', {
  method: 'POST',
  headers: { 'Content-Type': 'application/json' },
  body: JSON.stringify({
    name: 'ุฃุญูุฏ ูุญูุฏ',
    email: 'ahmed@example.com',
    phone: '+966501234567',
    subject: 'ุงุณุชูุณุงุฑ',
    message: 'ุฃุฑูุฏ ูุนุฑูุฉ ุงููุฒูุฏ ุนู ุงูุฑุญูุงุช'
  })
})
```

### 2. ุงุฎุชุจุงุฑ ุฌูุจ ุงูุฑุณุงุฆู
```javascript
// ุงุฎุชุจุงุฑ ุฌูุจ ุงูุฑุณุงุฆู
fetch('/api/admin/contact-messages')
  .then(res => res.json())
  .then(data => console.log(data))
```

## ๐ ุฅุญุตุงุฆูุงุช ุงูุจูุงูุงุช ุงูุชุฌุฑูุจูุฉ

### ุงูุฑุณุงุฆู ุงูุชุฌุฑูุจูุฉ (4 ุฑุณุงุฆู)
1. **ุฃุญูุฏ ูุญูุฏ** - ุงุณุชูุณุงุฑ ุนู ุฑุญูุฉ ุจุงุฑูุณ (unread)
2. **ูุงุทูุฉ ุนูู** - ุดููู ูู ุงูุฎุฏูุฉ (unread)
3. **ูุญูุฏ ุงูุณุนุฏ** - ุงูุชุฑุงุญ ุชุญุณูู (read)
4. **ููุฑุง ุฃุญูุฏ** - ุญุฌุฒ ุฑุญูุฉ ุชุงููุงูุฏ (unread)

### ุงูุชูุฒูุน ุญุณุจ ุงูุญุงูุฉ
- **unread**: 3 ุฑุณุงุฆู
- **read**: 1 ุฑุณุงูุฉ

### ุงูุชูุฒูุน ุญุณุจ ุงูููุน
- **inquiry**: 1 ุฑุณุงูุฉ
- **complaint**: 1 ุฑุณุงูุฉ
- **suggestion**: 1 ุฑุณุงูุฉ
- **booking**: 1 ุฑุณุงูุฉ

## ๐ ุงูุฎุทูุงุช ุงูุชุงููุฉ

1. **ุชุดุบูู ุฃูุฑ SQL** ูู Supabase
2. **ุงุฎุชุจุงุฑ ูููุฐุฌ ุงูุชูุงุตู** ูู ุงููููุน
3. **ุงุฎุชุจุงุฑ ุตูุญุฉ ุฅุฏุงุฑุฉ ุงูุฑุณุงุฆู** ูู ููุญุฉ ุงูุฅุฏุงุฑุฉ
4. **ุงููุดุฑ** ุฅุฐุง ูุงู ูู ุดูุก ูุนูู

## โ๏ธ ููุงุญุธุงุช ูููุฉ

1. **ุชุฃูุฏ ูู ุชุดุบูู ุฃูุฑ SQL** ูุจู ุงุฎุชุจุงุฑ ุงููููุฐุฌ
2. **ุชุญูู ูู ุงูุตูุงุญูุงุช** ูู Supabase
3. **ุงุฎุชุจุฑ ุฌููุน ุงููุธุงุฆู** ูุจู ุงููุดุฑ
4. **ุงุญุชูุธ ุจูุณุฎุฉ ุงุญุชูุงุทูุฉ** ูู ุงูุจูุงูุงุช

## ๐ฏ ุงููุชูุฌุฉ ุงููุชููุนุฉ

ุจุนุฏ ุชูููุฐ ุฌููุน ุงูุฎุทูุงุช:
- โ ูููุฐุฌ ุงูุชูุงุตู ูุนูู ุจุฏูู ุฃุฎุทุงุก
- โ ุงูุฑุณุงุฆู ุชูุญูุธ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- โ ุตูุญุฉ ุฅุฏุงุฑุฉ ุงูุฑุณุงุฆู ุชุนุฑุถ ุงูุจูุงูุงุช
- โ ุฅููุงููุฉ ุฅุฏุงุฑุฉ ุงูุฑุณุงุฆู (ูุฑุงุกุฉุ ุฑุฏุ ุฃุฑุดูุฉ)

## ๐ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ุฅุฐุง ุงุณุชูุฑ ุงูุฎุทุฃ 500:
1. ุชุญูู ูู ูุฌูุฏ ุงูุฌุฏูู ูู Supabase
2. ุชุญูู ูู ุงูุตูุงุญูุงุช
3. ุฑุงุฌุน console logs ูู Vercel
4. ุชุฃูุฏ ูู ุตุญุฉ API keys

### ุฅุฐุง ูู ุชุธูุฑ ุงูุฑุณุงุฆู:
1. ุชุญูู ูู ุงูุจูุงูุงุช ูู ุงูุฌุฏูู
2. ุชุฃูุฏ ูู ุตุญุฉ query parameters
3. ุฑุงุฌุน console logs

## ๐ ุงูุฏุนู

ุฅุฐุง ูุงุฌูุช ูุดุงูู:
1. ุฑุงุฌุน console logs
2. ุชุญูู ูู Supabase logs
3. ุชุฃูุฏ ูู ุตุญุฉ ุงูุจูุงูุงุช ุงููุฏุฎูุฉ
4. ุงุฎุชุจุฑ API endpoints ูุจุงุดุฑุฉ
