# ميزة رفع الصور في صفحات الإدارة

## الميزة المضافة
تم إضافة ميزة رفع الصور في نماذج الإضافة والتعديل لصفحات إدارة الباقات والوجهات، بحيث يمكن رفع الصور وتخزينها محلياً بدلاً من إدخال رابط الصورة يدوياً.

## الملفات المضافة/المحدثة

### 1. API لرفع الصور
**ملف:** `server/api/upload/image.post.ts`
- معالجة رفع الملفات المتعددة
- التحقق من نوع الملف (JPEG, PNG, WebP, GIF)
- التحقق من حجم الملف (حد أقصى 5MB)
- إنشاء اسم ملف فريد
- حفظ الملف في مجلد `public/uploads`
- إرجاع رابط الصورة العامة

### 2. مكون رفع الصور
**ملف:** `components/ui/ImageUpload.vue`
- واجهة مستخدم لرفع الصور
- دعم السحب والإفلات
- معاينة الصورة قبل الرفع
- شريط تقدم الرفع
- معالجة الأخطاء
- إمكانية تغيير أو حذف الصورة

### 3. تحديث صفحة إدارة الباقات
**ملف:** `pages/admin/packages/index.vue`
- استبدال حقول إدخال رابط الصورة بمكون `ImageUpload`
- إضافة دعم لصورة الباقة وصورة البطل
- إضافة دوال معالجة رفع الصور

### 4. تحديث صفحة إدارة الوجهات
**ملف:** `pages/admin/destinations/index.vue`
- استبدال حقل إدخال رابط الصورة بمكون `ImageUpload`
- إضافة دعم للصورة الرئيسية للوجهة
- إضافة دوال معالجة رفع الصور

### 5. مجلد التخزين
**مجلد:** `public/uploads/`
- مجلد لتخزين الصور المرفوعة
- ملف `.gitignore` لتجاهل الملفات المرفوعة

## الميزات

### 1. أنواع الملفات المدعومة
- JPEG (.jpg, .jpeg)
- PNG (.png)
- WebP (.webp)
- GIF (.gif)

### 2. قيود الحجم
- الحد الأقصى: 5MB لكل صورة
- رسائل خطأ واضحة عند تجاوز الحد

### 3. واجهة المستخدم
- منطقة سحب وإفلات
- معاينة فورية للصورة
- شريط تقدم الرفع
- أزرار تغيير وحذف الصورة
- رسائل خطأ واضحة

### 4. الأمان
- التحقق من نوع الملف
- التحقق من حجم الملف
- إنشاء أسماء ملفات فريدة
- تخزين آمن في مجلد منفصل

## كيفية الاستخدام

### في صفحة إدارة الباقات:
1. اضغط على "إضافة باقة جديدة"
2. في حقل "صورة الباقة" أو "صورة البطل"
3. اضغط على منطقة الرفع أو اسحب الصورة
4. اختر الصورة من جهازك
5. انتظر اكتمال الرفع
6. احفظ الباقة

### في صفحة إدارة الوجهات:
1. اضغط على "إضافة وجهة جديدة"
2. في حقل "الصورة الرئيسية"
3. اضغط على منطقة الرفع أو اسحب الصورة
4. اختر الصورة من جهازك
5. انتظر اكتمال الرفع
6. احفظ الوجهة

## الملفات المرفوعة
- يتم حفظ الصور في `public/uploads/`
- أسماء الملفات فريدة (timestamp + random string)
- الروابط العامة: `/uploads/filename.ext`
- الملفات محمية من الوصول المباشر

## ملاحظات
- تم إصلاح جميع أخطاء TypeScript
- المكون قابل لإعادة الاستخدام
- دعم كامل للغة العربية
- واجهة مستخدم متجاوبة
- معالجة شاملة للأخطاء
