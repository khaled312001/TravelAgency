# ุฅุนุฏุงุฏ ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงูููุงุฆู ูููุฑู ุงูุชูุงุตู

## โ ูุง ุชู ุฅูุฌุงุฒู

ุชู ุฅูุดุงุก ูุธุงู ููุฑู ุงูุชูุงุตู ูุงูุญุฌุฒ ุจูุฌุงุญ! ุฌููุน ุงููููุงุช ูุงูููุฏ ุฌุงูุฒ ููุงุณุชุฎุฏุงู.

## ๐ง ูุง ูุญุชุงุฌ ุฅุนุฏุงุฏ ูุฏูู

ุงูุฌุฏูู `contact_messages` ููุฌูุฏ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุชุ ูููู ูุญุชุงุฌ ุฅุถุงูุฉ ุจุนุถ ุงูุญููู ุงูุฌุฏูุฏุฉ.

### ุงูุฎุทูุฉ ุงููุญูุฏุฉ ุงููุทููุจุฉ:

**ุงุฐูุจ ุฅูู Supabase Dashboard ูุงุดุบู SQL ุงูุชุงูู:**

1. ุงุฐูุจ ุฅูู ูุดุฑูุน Supabase ุงูุฎุงุต ุจู
2. ุงุถุบุท ุนูู "SQL Editor" ูู ุงููุงุฆูุฉ ุงูุฌุงูุจูุฉ
3. ุงูุณุฎ ูุงูุตู ุงูููุฏ ุงูุชุงูู:

```sql
-- ุฅุถุงูุฉ ุงูุญููู ุงูุฌุฏูุฏุฉ
ALTER TABLE contact_messages ADD COLUMN IF NOT EXISTS type VARCHAR(50) DEFAULT 'inquiry';
ALTER TABLE contact_messages ADD COLUMN IF NOT EXISTS package_id UUID REFERENCES packages(id) ON DELETE SET NULL;
ALTER TABLE contact_messages ADD COLUMN IF NOT EXISTS package_name VARCHAR(255);

-- ุชุญุฏูุซ ุงูุญููู ุงูููุฌูุฏุฉ
ALTER TABLE contact_messages ALTER COLUMN name TYPE VARCHAR(255);
ALTER TABLE contact_messages ALTER COLUMN email TYPE VARCHAR(255);
ALTER TABLE contact_messages ALTER COLUMN phone TYPE VARCHAR(50);
ALTER TABLE contact_messages ALTER COLUMN subject TYPE VARCHAR(255);
ALTER TABLE contact_messages ALTER COLUMN message TYPE TEXT;
ALTER TABLE contact_messages ALTER COLUMN status SET DEFAULT 'unread';

-- ุฅุถุงูุฉ ููุฑุณ ูุชุญุณูู ุงูุฃุฏุงุก
CREATE INDEX IF NOT EXISTS idx_contact_messages_status ON contact_messages(status);
CREATE INDEX IF NOT EXISTS idx_contact_messages_type ON contact_messages(type);
CREATE INDEX IF NOT EXISTS idx_contact_messages_created_at ON contact_messages(created_at);
CREATE INDEX IF NOT EXISTS idx_contact_messages_package_id ON contact_messages(package_id);
```

4. ุงุถุบุท ุนูู "Run" ูุชูููุฐ ุงูููุฏ

## ๐ ุจุนุฏ ุชูููุฐ SQL

ุจูุฌุฑุฏ ุชูููุฐ SQL ุฃุนูุงูุ ุณูููู ุงููุธุงู ุฌุงูุฒ ุจุงููุงูู!

### ุงุฎุชุจุงุฑ ุงููุธุงู:

1. **ููุฑู ุงูุชูุงุตู ูู ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ:**
   - ุงุฐูุจ ุฅูู ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ
   - ุงูุชูู ุฅูู ูุณู "ุชูุงุตู ูุนูุง"
   - ุงููุฃ ุงูููุฑู ูุฃุฑุณูู

2. **ููุฑู ุงูุชูุงุตู ูู ุตูุญุงุช ุงูุจูุฌุงุช:**
   - ุงุฐูุจ ุฅูู ุฃู ุตูุญุฉ ุจุงูุฉ
   - ุงุถุบุท ุนูู "ุชูุงุตู ูุนูุง ููุญุฌุฒ"
   - ุงููุฃ ุงูููุฑู ูุฃุฑุณูู

3. **ููุญุฉ ุงูุฅุฏุงุฑุฉ:**
   - ุงุฐูุจ ุฅูู `/admin/messages`
   - ุชุญูู ูู ุธููุฑ ุงูุฑุณุงุฆู
   - ุฌุฑุจ ุงูููุชุฑุฉ ูุงูุจุญุซ

## ๐ ุงููููุงุช ุงููุถุงูุฉ

### API Endpoints:
- `server/api/contact.post.ts` - ูุญูุธ ุฑุณุงุฆู ุงูุชูุงุตู
- `server/api/admin/contact-messages/index.get.ts` - ูุฌูุจ ุงูุฑุณุงุฆู
- `server/api/admin/contact-messages/[id].put.ts` - ูุชุญุฏูุซ ุงูุฑุณุงุฆู
- `server/api/admin/contact-messages/[id].delete.ts` - ูุญุฐู ุงูุฑุณุงุฆู

### ุงูููููุงุช:
- `components/HomeSections/ContactSection.vue` - ูุณู ุงูุชูุงุตู ูู ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ
- `components/ContactForm.vue` - ูุญุฏุซ ูุฅุฑุณุงู ุงูุจูุงูุงุช
- `components/ui/modals/PackageContactFormModal.vue` - ูุญุฏุซ ูุญูุธ ุงูุจูุงูุงุช

### ุงูุตูุญุงุช:
- `pages/index.vue` - ูุญุฏุซ ูุฅุถุงูุฉ ูุณู ุงูุชูุงุตู
- `pages/admin/messages/index.vue` - ูุญุฏุซ ูุงุณุชุฎุฏุงู API ุงูุฌุฏูุฏ

### ุงูุชุฑุฌูุงุช:
- `locales/ar-SA.json` - ูุญุฏุซ ุจุงูุชุฑุฌูุงุช ุงูุนุฑุจูุฉ
- `locales/en-US.json` - ูุญุฏุซ ุจุงูุชุฑุฌูุงุช ุงูุฅูุฌููุฒูุฉ

### ุงูุณูุฑูุจุชุงุช:
- `test-database-connection.js` - ุงุฎุชุจุงุฑ ุงูุงุชุตุงู
- `setup-contact-database.js` - ุฅุนุฏุงุฏ ูุงุนุฏุฉ ุงูุจูุงูุงุช
- `create-new-table.js` - ุงุฎุชุจุงุฑ ุงูุฌุฏูู
- `update-table-direct.sql` - SQL ููุชุญุฏูุซ ุงููุฏูู

## ๐ ุงูุชุญูู ูู ุงููุฌุงุญ

ุจุนุฏ ุชูููุฐ SQLุ ููููู ุงูุชุญูู ูู ุงููุฌุงุญ ุจุชุดุบูู:

```bash
node test-database-connection.js
```

ูุฌุจ ุฃู ุชุฑู:
```
โ ุงูุงุชุตุงู ูุงุฌุญ!
โ ุฌุฏูู contact_messages ููุฌูุฏ
๐ ูู ุดูุก ูุนูู ุจุดูู ุตุญูุญ!
```

## ๐ ุชุดุบูู ุงููุดุฑูุน

```bash
npm run dev
```

## ๐ ุงูููุฒุงุช ุงููุชุงุญุฉ

### ููุฑู ุงูุชูุงุตู ูู ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ:
- ูุนูููุงุช ุงูุชูุงุตู (ูุงุชูุ ุฅููููุ ุนููุงูุ ุณุงุนุงุช ุงูุนูู)
- ููุฑู ุดุงูู ููุชูุงุตู
- ุฒุฑ ูุงุชุณุงุจ ูุจุงุดุฑ
- ุฑุณุงุฆู ูุฌุงุญ ูุฎุทุฃ

### ููุฑู ุงูุชูุงุตู ูู ุตูุญุงุช ุงูุจูุฌุงุช:
- ููุฑู ูุฎุตุต ููู ุจุงูุฉ
- ุญูุธ ุงูุจูุงูุงุช ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- ุฅุฑุณุงู ุฅุดุนุงุฑ ูุงุชุณุงุจ
- ุฑุจุท ุงูุฑุณุงูุฉ ุจุงูุจุงูุฉ ุงููุญุฏุฏุฉ

### ููุญุฉ ุฅุฏุงุฑุฉ ุงูุฑุณุงุฆู:
- ุนุฑุถ ุฌููุน ุงูุฑุณุงุฆู
- ููุชุฑุฉ ุญุณุจ ุงูุญุงูุฉ ูุงูููุน
- ุจุญุซ ูู ุงูุฑุณุงุฆู
- ุชุญุฏูุซ ุญุงูุฉ ุงูุฑุณุงุฆู
- ุญุฐู ุงูุฑุณุงุฆู
- ุฅุญุตุงุฆูุงุช ุงูุฑุณุงุฆู

## ๐ฏ ุฃููุงุน ุงูุฑุณุงุฆู

- `inquiry` - ุงุณุชูุณุงุฑ ุนุงู
- `booking` - ุทูุจ ุญุฌุฒ ุจุงูุฉ
- `complaint` - ุดููู
- `suggestion` - ุงูุชุฑุงุญ

## ๐ ุญุงูุงุช ุงูุฑุณุงุฆู

- `unread` - ุบูุฑ ููุฑูุก
- `read` - ููุฑูุก
- `replied` - ูุฌุงุจ
- `pending` - ูู ุงูุงูุชุธุงุฑ

## ๐ ุงูุฃูุงู

- ุฌููุน ุงูุญููู ุงููุทููุจุฉ ูุชู ุงูุชุญูู ูููุง
- ุญูุงูุฉ ูู SQL injection
- ุชุดููุฑ ุงูุจูุงูุงุช ุงูุญุณุงุณุฉ
- ุตูุงุญูุงุช ูุญุฏุฏุฉ ูููุตูู

## ๐ฑ ุงูุชูุงูู

- ูุชูุงูู ูุน ุฌููุน ุงูุฃุฌูุฒุฉ
- ุฏุนู ุงููุบุชูู ุงูุนุฑุจูุฉ ูุงูุฅูุฌููุฒูุฉ
- ุชุตููู ูุชุฌุงูุจ
- ุณุฑุนุฉ ุชุญููู ุนุงููุฉ

## ๐ ุงูุฏุนู

ุฅุฐุง ูุงุฌูุช ุฃู ูุดุงูู:

1. ุชุญูู ูู logs ุงูุฎุงุฏู
2. ุชุฃูุฏ ูู ุชูููุฐ SQL ุจูุฌุงุญ
3. ุชุญูู ูู ูุชุบูุฑุงุช ุงูุจูุฆุฉ
4. ุฑุงุฌุน ูุซุงุฆู Supabase

---

**๐ ุงููุธุงู ุฌุงูุฒ ููุงุณุชุฎุฏุงู ุจุนุฏ ุชูููุฐ SQL ุฃุนูุงู!**
