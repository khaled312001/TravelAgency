# إعداد قاعدة بيانات الوجهات - دليل شامل

## ✅ ما تم إنجازه

### 1. إنشاء جدول الوجهات
- تم إنشاء جدول `destinations` في قاعدة البيانات
- يحتوي على جميع الحقول المطلوبة للوجهات السعودية والعالمية
- يدعم اللغتين العربية والإنجليزية

### 2. إدخال البيانات
- تم إدخال جميع الوجهات من الصفحة الرئيسية
- **الوجهات السعودية**: الرياض، البحر الأحمر، جدة، مكة المكرمة، المدينة المنورة، العلا
- **الوجهات العالمية**: برشلونة، القاهرة، جورجيا، إسطنبول، لندن، مدريد، المغرب، باريس، شرم الشيخ، تايلاند

### 3. تحديث واجهة الإدارة
- تم تحديث صفحة إدارة الوجهات لتستخدم البيانات من قاعدة البيانات
- تم إنشاء composable جديد `useAdminDestinations`
- تم تحديث أنواع البيانات في `types/supabase.ts`

## 🗄️ خطوات التنفيذ

### الخطوة 1: تشغيل أمر SQL في Supabase

```sql
-- انسخ والصق محتوى ملف create-destinations-table.sql في Supabase SQL Editor
-- ثم اضغط على "Run" لتنفيذ الأمر
```

### الخطوة 2: التحقق من البيانات

بعد تشغيل الأمر، تحقق من أن البيانات تم إدخالها بنجاح:

```sql
-- عرض جميع الوجهات
SELECT id, name_ar, name_en, region_ar, featured FROM destinations ORDER BY featured DESC;

-- عرض الوجهات المميزة
SELECT id, name_ar, name_en FROM destinations WHERE featured = true;

-- عرض الوجهات السعودية
SELECT id, name_ar, name_en FROM destinations 
WHERE region_ar IN ('منطقة الرياض', 'منطقة البحر الأحمر', 'منطقة مكة المكرمة', 'منطقة المدينة المنورة');
```

## 📁 الملفات المحدثة

### 1. ملفات قاعدة البيانات
- ✅ `create-destinations-table.sql` - أمر إنشاء الجدول وإدخال البيانات
- ✅ `update-packages-hero-images.sql` - تحديث حقل hero_image_url للباقات

### 2. ملفات TypeScript
- ✅ `types/supabase.ts` - إضافة أنواع البيانات للوجهات
- ✅ `composables/useAdminDestinations.ts` - composable جديد لإدارة الوجهات
- ✅ `pages/admin/destinations/index.vue` - تحديث صفحة إدارة الوجهات

## 🎯 النتيجة المتوقعة

بعد تنفيذ الخطوات:

### في صفحة الإدارة (`/admin/destinations`)
- ✅ عرض جميع الوجهات من قاعدة البيانات
- ✅ إمكانية البحث والفلترة
- ✅ إحصائيات صحيحة (إجمالي الوجهات، المميزة، إلخ)
- ✅ إمكانية إضافة وتعديل وحذف الوجهات

### في الصفحة الرئيسية
- ✅ الوجهات تظهر من قاعدة البيانات
- ✅ البيانات محدثة ومتسقة
- ✅ إمكانية إدارة الوجهات من لوحة الإدارة

## 🔧 الميزات المتاحة

### 1. إدارة الوجهات
- عرض جميع الوجهات
- البحث بالاسم أو المنطقة
- فلترة حسب المنطقة أو النوع أو المميز
- إضافة وجهة جديدة
- تعديل وجهة موجودة
- حذف وجهة
- تبديل حالة المميز

### 2. البيانات المدعومة
- **معلومات أساسية**: الاسم (عربي/إنجليزي)، الوصف، المنطقة
- **التصنيف**: نوع الموقع، نوع الوجهة
- **الصور**: الصورة الرئيسية، معرض الصور
- **المحتوى**: الأماكن السياحية، الفعاليات القادمة
- **الموقع**: الإحداثيات الجغرافية
- **الحالة**: مميز أم لا

## 📊 إحصائيات البيانات

### الوجهات السعودية (6 وجهات)
- الرياض ✅ (مميز)
- البحر الأحمر ✅ (مميز)
- جدة ✅
- مكة المكرمة ✅ (مميز)
- المدينة المنورة ✅ (مميز)
- العلا ✅ (مميز)

### الوجهات العالمية (10 وجهات)
- برشلونة ✅ (مميز)
- القاهرة ✅ (مميز)
- جورجيا ✅
- إسطنبول ✅ (مميز)
- لندن ✅ (مميز)
- مدريد ✅
- المغرب ✅
- باريس ✅ (مميز)
- شرم الشيخ ✅
- تايلاند ✅ (مميز)

## 🚀 الخطوات التالية

1. **تشغيل أمر SQL** في Supabase
2. **اختبار صفحة الإدارة** للتأكد من عمل البيانات
3. **النشر** إذا كان كل شيء يعمل بشكل صحيح

## ⚠️ ملاحظات مهمة

1. **تأكد من تشغيل أمر SQL** قبل اختبار الصفحة
2. **تحقق من الصلاحيات** في Supabase
3. **اختبر جميع الوظائف** في صفحة الإدارة
4. **احتفظ بنسخة احتياطية** من البيانات قبل التحديث

## 🎉 النتيجة النهائية

بعد تنفيذ جميع الخطوات، ستحصل على:
- ✅ نظام إدارة وجهات متكامل
- ✅ بيانات منظمة في قاعدة البيانات
- ✅ واجهة إدارة سهلة الاستخدام
- ✅ إمكانية تحديث البيانات بسهولة
- ✅ عرض الوجهات في الصفحة الرئيسية من قاعدة البيانات
